{"version":3,"file":"index-wCMa8xFC.js","sources":["../../../node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js","../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js","../../../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js","../../../node_modules/.pnpm/@babel+runtime@7.27.6/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../node_modules/.pnpm/@babel+runtime@7.27.6/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/subscribable.js","../../../node_modules/.pnpm/@babel+runtime@7.27.6/node_modules/@babel/runtime/helpers/esm/extends.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/utils.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/focusManager.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/onlineManager.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/retryer.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/notifyManager.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/logger.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/query.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/queryCache.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/mutation.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/mutationCache.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/infiniteQueryBehavior.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/queryClient.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/core/queryObserver.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/react/reactBatchedUpdates.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/react/setBatchUpdatesFn.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/react/logger.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/react/setLogger.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/react/QueryClientProvider.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/react/QueryErrorResetBoundary.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/react/utils.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/react/useBaseQuery.js","../../../node_modules/.pnpm/react-query@3.39.3_react-do_85f1a474609db089a65f2e1a4ff9887d/node_modules/react-query/es/react/useQuery.js","../../../node_modules/.pnpm/goober@2.1.16_csstype@3.1.3/node_modules/goober/dist/goober.modern.js","../../../node_modules/.pnpm/react-hot-toast@2.5.2_react_9bc054aa3de8cae57bd3b78a8a871a4d/node_modules/react-hot-toast/dist/index.mjs","../../src/services/api.js","../../src/services/authService.js","../../src/context/AuthContext.jsx","../../../node_modules/.pnpm/engine.io-parser@5.2.3/node_modules/engine.io-parser/build/esm/commons.js","../../../node_modules/.pnpm/engine.io-parser@5.2.3/node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../../../node_modules/.pnpm/engine.io-parser@5.2.3/node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../../../node_modules/.pnpm/engine.io-parser@5.2.3/node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../../../node_modules/.pnpm/engine.io-parser@5.2.3/node_modules/engine.io-parser/build/esm/index.js","../../../node_modules/.pnpm/@socket.io+component-emitter@3.1.2/node_modules/@socket.io/component-emitter/lib/esm/index.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/globals.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/util.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/contrib/parseqs.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/transport.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/transports/polling.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/contrib/has-cors.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/transports/polling-xhr.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/transports/websocket.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/transports/webtransport.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/transports/index.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/contrib/parseuri.js","../../../node_modules/.pnpm/engine.io-client@6.6.3/node_modules/engine.io-client/build/esm/socket.js","../../../node_modules/.pnpm/socket.io-client@4.8.1/node_modules/socket.io-client/build/esm/url.js","../../../node_modules/.pnpm/socket.io-parser@4.2.4/node_modules/socket.io-parser/build/esm/is-binary.js","../../../node_modules/.pnpm/socket.io-parser@4.2.4/node_modules/socket.io-parser/build/esm/binary.js","../../../node_modules/.pnpm/socket.io-parser@4.2.4/node_modules/socket.io-parser/build/esm/index.js","../../../node_modules/.pnpm/socket.io-client@4.8.1/node_modules/socket.io-client/build/esm/on.js","../../../node_modules/.pnpm/socket.io-client@4.8.1/node_modules/socket.io-client/build/esm/socket.js","../../../node_modules/.pnpm/socket.io-client@4.8.1/node_modules/socket.io-client/build/esm/contrib/backo2.js","../../../node_modules/.pnpm/socket.io-client@4.8.1/node_modules/socket.io-client/build/esm/manager.js","../../../node_modules/.pnpm/socket.io-client@4.8.1/node_modules/socket.io-client/build/esm/index.js","../../src/context/SocketContext.jsx","../../src/components/layout/Sidebar.jsx","../../src/components/layout/BottomNav.jsx","../../src/components/layout/MobileHeader.jsx","../../src/components/layout/Layout.jsx","../../src/components/ui/LoadingSpinner.jsx","../../src/components/auth/ProtectedRoute.jsx","../../src/services/postService.js","../../src/components/posts/CreatePost.jsx","../../src/components/posts/PostCard.jsx","../../src/pages/Home.jsx","../../src/pages/Login.jsx","../../src/pages/Register.jsx","../../src/services/userService.js","../../src/pages/Profile.jsx","../../src/pages/Post.jsx","../../src/pages/Explore.jsx","../../src/pages/Messages.jsx","../../src/pages/Notifications.jsx","../../src/pages/Stream.jsx","../../src/pages/NotFound.jsx","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","export var Subscribable = /*#__PURE__*/function () {\n  function Subscribable() {\n    this.listeners = [];\n  }\n\n  var _proto = Subscribable.prototype;\n\n  _proto.subscribe = function subscribe(listener) {\n    var _this = this;\n\n    var callback = listener || function () {\n      return undefined;\n    };\n\n    this.listeners.push(callback);\n    this.onSubscribe();\n    return function () {\n      _this.listeners = _this.listeners.filter(function (x) {\n        return x !== callback;\n      });\n\n      _this.onUnsubscribe();\n    };\n  };\n\n  _proto.hasListeners = function hasListeners() {\n    return this.listeners.length > 0;\n  };\n\n  _proto.onSubscribe = function onSubscribe() {// Do nothing\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {// Do nothing\n  };\n\n  return Subscribable;\n}();","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// TYPES\n// UTILS\nexport var isServer = typeof window === 'undefined';\nexport function noop() {\n  return undefined;\n}\nexport function functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nexport function isValidTimeout(value) {\n  return typeof value === 'number' && value >= 0 && value !== Infinity;\n}\nexport function ensureQueryKeyArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\nexport function difference(array1, array2) {\n  return array1.filter(function (x) {\n    return array2.indexOf(x) === -1;\n  });\n}\nexport function replaceAt(array, index, value) {\n  var copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nexport function timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nexport function parseQueryArgs(arg1, arg2, arg3) {\n  if (!isQueryKey(arg1)) {\n    return arg1;\n  }\n\n  if (typeof arg2 === 'function') {\n    return _extends({}, arg3, {\n      queryKey: arg1,\n      queryFn: arg2\n    });\n  }\n\n  return _extends({}, arg2, {\n    queryKey: arg1\n  });\n}\nexport function parseMutationArgs(arg1, arg2, arg3) {\n  if (isQueryKey(arg1)) {\n    if (typeof arg2 === 'function') {\n      return _extends({}, arg3, {\n        mutationKey: arg1,\n        mutationFn: arg2\n      });\n    }\n\n    return _extends({}, arg2, {\n      mutationKey: arg1\n    });\n  }\n\n  if (typeof arg1 === 'function') {\n    return _extends({}, arg2, {\n      mutationFn: arg1\n    });\n  }\n\n  return _extends({}, arg1);\n}\nexport function parseFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [_extends({}, arg2, {\n    queryKey: arg1\n  }), arg3] : [arg1 || {}, arg2];\n}\nexport function parseMutationFilterArgs(arg1, arg2) {\n  return isQueryKey(arg1) ? _extends({}, arg2, {\n    mutationKey: arg1\n  }) : arg1;\n}\nexport function mapQueryStatusFilter(active, inactive) {\n  if (active === true && inactive === true || active == null && inactive == null) {\n    return 'all';\n  } else if (active === false && inactive === false) {\n    return 'none';\n  } else {\n    // At this point, active|inactive can only be true|false or false|true\n    // so, when only one value is provided, the missing one has to be the negated value\n    var isActive = active != null ? active : !inactive;\n    return isActive ? 'active' : 'inactive';\n  }\n}\nexport function matchQuery(filters, query) {\n  var active = filters.active,\n      exact = filters.exact,\n      fetching = filters.fetching,\n      inactive = filters.inactive,\n      predicate = filters.predicate,\n      queryKey = filters.queryKey,\n      stale = filters.stale;\n\n  if (isQueryKey(queryKey)) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n\n  var queryStatusFilter = mapQueryStatusFilter(active, inactive);\n\n  if (queryStatusFilter === 'none') {\n    return false;\n  } else if (queryStatusFilter !== 'all') {\n    var isActive = query.isActive();\n\n    if (queryStatusFilter === 'active' && !isActive) {\n      return false;\n    }\n\n    if (queryStatusFilter === 'inactive' && isActive) {\n      return false;\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false;\n  }\n\n  if (typeof fetching === 'boolean' && query.isFetching() !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n\n  return true;\n}\nexport function matchMutation(filters, mutation) {\n  var exact = filters.exact,\n      fetching = filters.fetching,\n      predicate = filters.predicate,\n      mutationKey = filters.mutationKey;\n\n  if (isQueryKey(mutationKey)) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n\n    if (exact) {\n      if (hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n\n  if (typeof fetching === 'boolean' && mutation.state.status === 'loading' !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n\n  return true;\n}\nexport function hashQueryKeyByOptions(queryKey, options) {\n  var hashFn = (options == null ? void 0 : options.queryKeyHashFn) || hashQueryKey;\n  return hashFn(queryKey);\n}\n/**\n * Default query keys hash function.\n */\n\nexport function hashQueryKey(queryKey) {\n  var asArray = ensureQueryKeyArray(queryKey);\n  return stableValueHash(asArray);\n}\n/**\n * Hashes the value into a stable hash.\n */\n\nexport function stableValueHash(value) {\n  return JSON.stringify(value, function (_, val) {\n    return isPlainObject(val) ? Object.keys(val).sort().reduce(function (result, key) {\n      result[key] = val[key];\n      return result;\n    }, {}) : val;\n  });\n}\n/**\n * Checks if key `b` partially matches with key `a`.\n */\n\nexport function partialMatchKey(a, b) {\n  return partialDeepEqual(ensureQueryKeyArray(a), ensureQueryKeyArray(b));\n}\n/**\n * Checks if `b` partially matches with `a`.\n */\n\nexport function partialDeepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== typeof b) {\n    return false;\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some(function (key) {\n      return !partialDeepEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\n\nexport function replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n\n  var array = Array.isArray(a) && Array.isArray(b);\n\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    var aSize = array ? a.length : Object.keys(a).length;\n    var bItems = array ? b : Object.keys(b);\n    var bSize = bItems.length;\n    var copy = array ? [] : {};\n    var equalItems = 0;\n\n    for (var i = 0; i < bSize; i++) {\n      var key = array ? i : bItems[i];\n      copy[key] = replaceEqualDeep(a[key], b[key]);\n\n      if (copy[key] === a[key]) {\n        equalItems++;\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n\n  return b;\n}\n/**\n * Shallow compare objects. Only works with objects that always have the same properties.\n */\n\nexport function shallowEqualObjects(a, b) {\n  if (a && !b || b && !a) {\n    return false;\n  }\n\n  for (var key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n} // Copied from: https://github.com/jonschlinkert/is-plain-object\n\nexport function isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  } // If has modified constructor\n\n\n  var ctor = o.constructor;\n\n  if (typeof ctor === 'undefined') {\n    return true;\n  } // If has modified prototype\n\n\n  var prot = ctor.prototype;\n\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  } // If constructor does not have an Object-specific method\n\n\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nexport function isQueryKey(value) {\n  return typeof value === 'string' || Array.isArray(value);\n}\nexport function isError(value) {\n  return value instanceof Error;\n}\nexport function sleep(timeout) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, timeout);\n  });\n}\n/**\n * Schedules a microtask.\n * This can be useful to schedule state updates after rendering.\n */\n\nexport function scheduleMicrotask(callback) {\n  Promise.resolve().then(callback).catch(function (error) {\n    return setTimeout(function () {\n      throw error;\n    });\n  });\n}\nexport function getAbortController() {\n  if (typeof AbortController === 'function') {\n    return new AbortController();\n  }\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Subscribable } from './subscribable';\nimport { isServer } from './utils';\nexport var FocusManager = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(FocusManager, _Subscribable);\n\n  function FocusManager() {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n\n    _this.setup = function (onFocus) {\n      var _window;\n\n      if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\n        var listener = function listener() {\n          return onFocus();\n        }; // Listen to visibillitychange and focus\n\n\n        window.addEventListener('visibilitychange', listener, false);\n        window.addEventListener('focus', listener, false);\n        return function () {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener);\n          window.removeEventListener('focus', listener);\n        };\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = FocusManager.prototype;\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  };\n\n  _proto.setEventListener = function setEventListener(setup) {\n    var _this$cleanup2,\n        _this2 = this;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(function (focused) {\n      if (typeof focused === 'boolean') {\n        _this2.setFocused(focused);\n      } else {\n        _this2.onFocus();\n      }\n    });\n  };\n\n  _proto.setFocused = function setFocused(focused) {\n    this.focused = focused;\n\n    if (focused) {\n      this.onFocus();\n    }\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.listeners.forEach(function (listener) {\n      listener();\n    });\n  };\n\n  _proto.isFocused = function isFocused() {\n    if (typeof this.focused === 'boolean') {\n      return this.focused;\n    } // document global can be unavailable in react native\n\n\n    if (typeof document === 'undefined') {\n      return true;\n    }\n\n    return [undefined, 'visible', 'prerender'].includes(document.visibilityState);\n  };\n\n  return FocusManager;\n}(Subscribable);\nexport var focusManager = new FocusManager();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Subscribable } from './subscribable';\nimport { isServer } from './utils';\nexport var OnlineManager = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(OnlineManager, _Subscribable);\n\n  function OnlineManager() {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n\n    _this.setup = function (onOnline) {\n      var _window;\n\n      if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\n        var listener = function listener() {\n          return onOnline();\n        }; // Listen to online\n\n\n        window.addEventListener('online', listener, false);\n        window.addEventListener('offline', listener, false);\n        return function () {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('online', listener);\n          window.removeEventListener('offline', listener);\n        };\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = OnlineManager.prototype;\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  };\n\n  _proto.setEventListener = function setEventListener(setup) {\n    var _this$cleanup2,\n        _this2 = this;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(function (online) {\n      if (typeof online === 'boolean') {\n        _this2.setOnline(online);\n      } else {\n        _this2.onOnline();\n      }\n    });\n  };\n\n  _proto.setOnline = function setOnline(online) {\n    this.online = online;\n\n    if (online) {\n      this.onOnline();\n    }\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.listeners.forEach(function (listener) {\n      listener();\n    });\n  };\n\n  _proto.isOnline = function isOnline() {\n    if (typeof this.online === 'boolean') {\n      return this.online;\n    }\n\n    if (typeof navigator === 'undefined' || typeof navigator.onLine === 'undefined') {\n      return true;\n    }\n\n    return navigator.onLine;\n  };\n\n  return OnlineManager;\n}(Subscribable);\nexport var onlineManager = new OnlineManager();","import { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { sleep } from './utils';\n\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1000 * Math.pow(2, failureCount), 30000);\n}\n\nexport function isCancelable(value) {\n  return typeof (value == null ? void 0 : value.cancel) === 'function';\n}\nexport var CancelledError = function CancelledError(options) {\n  this.revert = options == null ? void 0 : options.revert;\n  this.silent = options == null ? void 0 : options.silent;\n};\nexport function isCancelledError(value) {\n  return value instanceof CancelledError;\n} // CLASS\n\nexport var Retryer = function Retryer(config) {\n  var _this = this;\n\n  var cancelRetry = false;\n  var cancelFn;\n  var continueFn;\n  var promiseResolve;\n  var promiseReject;\n  this.abort = config.abort;\n\n  this.cancel = function (cancelOptions) {\n    return cancelFn == null ? void 0 : cancelFn(cancelOptions);\n  };\n\n  this.cancelRetry = function () {\n    cancelRetry = true;\n  };\n\n  this.continueRetry = function () {\n    cancelRetry = false;\n  };\n\n  this.continue = function () {\n    return continueFn == null ? void 0 : continueFn();\n  };\n\n  this.failureCount = 0;\n  this.isPaused = false;\n  this.isResolved = false;\n  this.isTransportCancelable = false;\n  this.promise = new Promise(function (outerResolve, outerReject) {\n    promiseResolve = outerResolve;\n    promiseReject = outerReject;\n  });\n\n  var resolve = function resolve(value) {\n    if (!_this.isResolved) {\n      _this.isResolved = true;\n      config.onSuccess == null ? void 0 : config.onSuccess(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseResolve(value);\n    }\n  };\n\n  var reject = function reject(value) {\n    if (!_this.isResolved) {\n      _this.isResolved = true;\n      config.onError == null ? void 0 : config.onError(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseReject(value);\n    }\n  };\n\n  var pause = function pause() {\n    return new Promise(function (continueResolve) {\n      continueFn = continueResolve;\n      _this.isPaused = true;\n      config.onPause == null ? void 0 : config.onPause();\n    }).then(function () {\n      continueFn = undefined;\n      _this.isPaused = false;\n      config.onContinue == null ? void 0 : config.onContinue();\n    });\n  }; // Create loop function\n\n\n  var run = function run() {\n    // Do nothing if already resolved\n    if (_this.isResolved) {\n      return;\n    }\n\n    var promiseOrValue; // Execute query\n\n    try {\n      promiseOrValue = config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    } // Create callback to cancel this fetch\n\n\n    cancelFn = function cancelFn(cancelOptions) {\n      if (!_this.isResolved) {\n        reject(new CancelledError(cancelOptions));\n        _this.abort == null ? void 0 : _this.abort(); // Cancel transport if supported\n\n        if (isCancelable(promiseOrValue)) {\n          try {\n            promiseOrValue.cancel();\n          } catch (_unused) {}\n        }\n      }\n    }; // Check if the transport layer support cancellation\n\n\n    _this.isTransportCancelable = isCancelable(promiseOrValue);\n    Promise.resolve(promiseOrValue).then(resolve).catch(function (error) {\n      var _config$retry, _config$retryDelay;\n\n      // Stop if the fetch is already resolved\n      if (_this.isResolved) {\n        return;\n      } // Do we need to retry the request?\n\n\n      var retry = (_config$retry = config.retry) != null ? _config$retry : 3;\n      var retryDelay = (_config$retryDelay = config.retryDelay) != null ? _config$retryDelay : defaultRetryDelay;\n      var delay = typeof retryDelay === 'function' ? retryDelay(_this.failureCount, error) : retryDelay;\n      var shouldRetry = retry === true || typeof retry === 'number' && _this.failureCount < retry || typeof retry === 'function' && retry(_this.failureCount, error);\n\n      if (cancelRetry || !shouldRetry) {\n        // We are done if the query does not need to be retried\n        reject(error);\n        return;\n      }\n\n      _this.failureCount++; // Notify on fail\n\n      config.onFail == null ? void 0 : config.onFail(_this.failureCount, error); // Delay\n\n      sleep(delay) // Pause if the document is not visible or when the device is offline\n      .then(function () {\n        if (!focusManager.isFocused() || !onlineManager.isOnline()) {\n          return pause();\n        }\n      }).then(function () {\n        if (cancelRetry) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  }; // Start loop\n\n\n  run();\n};","import { scheduleMicrotask } from './utils'; // TYPES\n\n// CLASS\nexport var NotifyManager = /*#__PURE__*/function () {\n  function NotifyManager() {\n    this.queue = [];\n    this.transactions = 0;\n\n    this.notifyFn = function (callback) {\n      callback();\n    };\n\n    this.batchNotifyFn = function (callback) {\n      callback();\n    };\n  }\n\n  var _proto = NotifyManager.prototype;\n\n  _proto.batch = function batch(callback) {\n    var result;\n    this.transactions++;\n\n    try {\n      result = callback();\n    } finally {\n      this.transactions--;\n\n      if (!this.transactions) {\n        this.flush();\n      }\n    }\n\n    return result;\n  };\n\n  _proto.schedule = function schedule(callback) {\n    var _this = this;\n\n    if (this.transactions) {\n      this.queue.push(callback);\n    } else {\n      scheduleMicrotask(function () {\n        _this.notifyFn(callback);\n      });\n    }\n  }\n  /**\n   * All calls to the wrapped function will be batched.\n   */\n  ;\n\n  _proto.batchCalls = function batchCalls(callback) {\n    var _this2 = this;\n\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this2.schedule(function () {\n        callback.apply(void 0, args);\n      });\n    };\n  };\n\n  _proto.flush = function flush() {\n    var _this3 = this;\n\n    var queue = this.queue;\n    this.queue = [];\n\n    if (queue.length) {\n      scheduleMicrotask(function () {\n        _this3.batchNotifyFn(function () {\n          queue.forEach(function (callback) {\n            _this3.notifyFn(callback);\n          });\n        });\n      });\n    }\n  }\n  /**\n   * Use this method to set a custom notify function.\n   * This can be used to for example wrap notifications with `React.act` while running tests.\n   */\n  ;\n\n  _proto.setNotifyFunction = function setNotifyFunction(fn) {\n    this.notifyFn = fn;\n  }\n  /**\n   * Use this method to set a custom function to batch notifications together into a single tick.\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\n   */\n  ;\n\n  _proto.setBatchNotifyFunction = function setBatchNotifyFunction(fn) {\n    this.batchNotifyFn = fn;\n  };\n\n  return NotifyManager;\n}(); // SINGLETON\n\nexport var notifyManager = new NotifyManager();","// TYPES\n// FUNCTIONS\nvar logger = console;\nexport function getLogger() {\n  return logger;\n}\nexport function setLogger(newLogger) {\n  logger = newLogger;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getAbortController, functionalUpdate, isValidTimeout, noop, replaceEqualDeep, timeUntilStale, ensureQueryKeyArray } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { getLogger } from './logger';\nimport { Retryer, isCancelledError } from './retryer'; // TYPES\n\n// CLASS\nexport var Query = /*#__PURE__*/function () {\n  function Query(config) {\n    this.abortSignalConsumed = false;\n    this.hadObservers = false;\n    this.defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.cache = config.cache;\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.initialState = config.state || this.getDefaultState(this.options);\n    this.state = this.initialState;\n    this.meta = config.meta;\n    this.scheduleGc();\n  }\n\n  var _proto = Query.prototype;\n\n  _proto.setOptions = function setOptions(options) {\n    var _this$options$cacheTi;\n\n    this.options = _extends({}, this.defaultOptions, options);\n    this.meta = options == null ? void 0 : options.meta; // Default to 5 minutes if not cache time is set\n\n    this.cacheTime = Math.max(this.cacheTime || 0, (_this$options$cacheTi = this.options.cacheTime) != null ? _this$options$cacheTi : 5 * 60 * 1000);\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.scheduleGc = function scheduleGc() {\n    var _this = this;\n\n    this.clearGcTimeout();\n\n    if (isValidTimeout(this.cacheTime)) {\n      this.gcTimeout = setTimeout(function () {\n        _this.optionalRemove();\n      }, this.cacheTime);\n    }\n  };\n\n  _proto.clearGcTimeout = function clearGcTimeout() {\n    if (this.gcTimeout) {\n      clearTimeout(this.gcTimeout);\n      this.gcTimeout = undefined;\n    }\n  };\n\n  _proto.optionalRemove = function optionalRemove() {\n    if (!this.observers.length) {\n      if (this.state.isFetching) {\n        if (this.hadObservers) {\n          this.scheduleGc();\n        }\n      } else {\n        this.cache.remove(this);\n      }\n    }\n  };\n\n  _proto.setData = function setData(updater, options) {\n    var _this$options$isDataE, _this$options;\n\n    var prevData = this.state.data; // Get the new data\n\n    var data = functionalUpdate(updater, prevData); // Use prev data if an isDataEqual function is defined and returns `true`\n\n    if ((_this$options$isDataE = (_this$options = this.options).isDataEqual) == null ? void 0 : _this$options$isDataE.call(_this$options, prevData, data)) {\n      data = prevData;\n    } else if (this.options.structuralSharing !== false) {\n      // Structurally share data between prev and new data if needed\n      data = replaceEqualDeep(prevData, data);\n    } // Set data and mark it as cached\n\n\n    this.dispatch({\n      data: data,\n      type: 'success',\n      dataUpdatedAt: options == null ? void 0 : options.updatedAt\n    });\n    return data;\n  };\n\n  _proto.setState = function setState(state, setStateOptions) {\n    this.dispatch({\n      type: 'setState',\n      state: state,\n      setStateOptions: setStateOptions\n    });\n  };\n\n  _proto.cancel = function cancel(options) {\n    var _this$retryer;\n\n    var promise = this.promise;\n    (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  };\n\n  _proto.destroy = function destroy() {\n    this.clearGcTimeout();\n    this.cancel({\n      silent: true\n    });\n  };\n\n  _proto.reset = function reset() {\n    this.destroy();\n    this.setState(this.initialState);\n  };\n\n  _proto.isActive = function isActive() {\n    return this.observers.some(function (observer) {\n      return observer.options.enabled !== false;\n    });\n  };\n\n  _proto.isFetching = function isFetching() {\n    return this.state.isFetching;\n  };\n\n  _proto.isStale = function isStale() {\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || this.observers.some(function (observer) {\n      return observer.getCurrentResult().isStale;\n    });\n  };\n\n  _proto.isStaleByTime = function isStaleByTime(staleTime) {\n    if (staleTime === void 0) {\n      staleTime = 0;\n    }\n\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this$retryer2;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnWindowFocus();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer2 = this.retryer) == null ? void 0 : _this$retryer2.continue();\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this$retryer3;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnReconnect();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer3 = this.retryer) == null ? void 0 : _this$retryer3.continue();\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n      this.hadObservers = true; // Stop the query from being garbage collected\n\n      this.clearGcTimeout();\n      this.cache.notify({\n        type: 'observerAdded',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    if (this.observers.indexOf(observer) !== -1) {\n      this.observers = this.observers.filter(function (x) {\n        return x !== observer;\n      });\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.retryer) {\n          if (this.retryer.isTransportCancelable || this.abortSignalConsumed) {\n            this.retryer.cancel({\n              revert: true\n            });\n          } else {\n            this.retryer.cancelRetry();\n          }\n        }\n\n        if (this.cacheTime) {\n          this.scheduleGc();\n        } else {\n          this.cache.remove(this);\n        }\n      }\n\n      this.cache.notify({\n        type: 'observerRemoved',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.getObserversCount = function getObserversCount() {\n    return this.observers.length;\n  };\n\n  _proto.invalidate = function invalidate() {\n    if (!this.state.isInvalidated) {\n      this.dispatch({\n        type: 'invalidate'\n      });\n    }\n  };\n\n  _proto.fetch = function fetch(options, fetchOptions) {\n    var _this2 = this,\n        _this$options$behavio,\n        _context$fetchOptions,\n        _abortController$abor;\n\n    if (this.state.isFetching) {\n      if (this.state.dataUpdatedAt && (fetchOptions == null ? void 0 : fetchOptions.cancelRefetch)) {\n        // Silently cancel current fetch if the user wants to cancel refetches\n        this.cancel({\n          silent: true\n        });\n      } else if (this.promise) {\n        var _this$retryer4;\n\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        (_this$retryer4 = this.retryer) == null ? void 0 : _this$retryer4.continueRetry(); // Return current promise if we are already fetching\n\n        return this.promise;\n      }\n    } // Update config if passed, otherwise the config from the last execution is used\n\n\n    if (options) {\n      this.setOptions(options);\n    } // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n\n\n    if (!this.options.queryFn) {\n      var observer = this.observers.find(function (x) {\n        return x.options.queryFn;\n      });\n\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n\n    var queryKey = ensureQueryKeyArray(this.queryKey);\n    var abortController = getAbortController(); // Create query function context\n\n    var queryFnContext = {\n      queryKey: queryKey,\n      pageParam: undefined,\n      meta: this.meta\n    };\n    Object.defineProperty(queryFnContext, 'signal', {\n      enumerable: true,\n      get: function get() {\n        if (abortController) {\n          _this2.abortSignalConsumed = true;\n          return abortController.signal;\n        }\n\n        return undefined;\n      }\n    }); // Create fetch function\n\n    var fetchFn = function fetchFn() {\n      if (!_this2.options.queryFn) {\n        return Promise.reject('Missing queryFn');\n      }\n\n      _this2.abortSignalConsumed = false;\n      return _this2.options.queryFn(queryFnContext);\n    }; // Trigger behavior hook\n\n\n    var context = {\n      fetchOptions: fetchOptions,\n      options: this.options,\n      queryKey: queryKey,\n      state: this.state,\n      fetchFn: fetchFn,\n      meta: this.meta\n    };\n\n    if ((_this$options$behavio = this.options.behavior) == null ? void 0 : _this$options$behavio.onFetch) {\n      var _this$options$behavio2;\n\n      (_this$options$behavio2 = this.options.behavior) == null ? void 0 : _this$options$behavio2.onFetch(context);\n    } // Store state in case the current fetch needs to be reverted\n\n\n    this.revertState = this.state; // Set to fetching state if not already in it\n\n    if (!this.state.isFetching || this.state.fetchMeta !== ((_context$fetchOptions = context.fetchOptions) == null ? void 0 : _context$fetchOptions.meta)) {\n      var _context$fetchOptions2;\n\n      this.dispatch({\n        type: 'fetch',\n        meta: (_context$fetchOptions2 = context.fetchOptions) == null ? void 0 : _context$fetchOptions2.meta\n      });\n    } // Try to fetch the data\n\n\n    this.retryer = new Retryer({\n      fn: context.fetchFn,\n      abort: abortController == null ? void 0 : (_abortController$abor = abortController.abort) == null ? void 0 : _abortController$abor.bind(abortController),\n      onSuccess: function onSuccess(data) {\n        _this2.setData(data); // Notify cache callback\n\n\n        _this2.cache.config.onSuccess == null ? void 0 : _this2.cache.config.onSuccess(data, _this2); // Remove query after fetching if cache time is 0\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onError: function onError(error) {\n        // Optimistically update state if needed\n        if (!(isCancelledError(error) && error.silent)) {\n          _this2.dispatch({\n            type: 'error',\n            error: error\n          });\n        }\n\n        if (!isCancelledError(error)) {\n          // Notify cache callback\n          _this2.cache.config.onError == null ? void 0 : _this2.cache.config.onError(error, _this2); // Log error\n\n          getLogger().error(error);\n        } // Remove query after fetching if cache time is 0\n\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay\n    });\n    this.promise = this.retryer.promise;\n    return this.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = this.reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onQueryUpdate(action);\n      });\n\n      _this3.cache.notify({\n        query: _this3,\n        type: 'queryUpdated',\n        action: action\n      });\n    });\n  };\n\n  _proto.getDefaultState = function getDefaultState(options) {\n    var data = typeof options.initialData === 'function' ? options.initialData() : options.initialData;\n    var hasInitialData = typeof options.initialData !== 'undefined';\n    var initialDataUpdatedAt = hasInitialData ? typeof options.initialDataUpdatedAt === 'function' ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n    var hasData = typeof data !== 'undefined';\n    return {\n      data: data,\n      dataUpdateCount: 0,\n      dataUpdatedAt: hasData ? initialDataUpdatedAt != null ? initialDataUpdatedAt : Date.now() : 0,\n      error: null,\n      errorUpdateCount: 0,\n      errorUpdatedAt: 0,\n      fetchFailureCount: 0,\n      fetchMeta: null,\n      isFetching: false,\n      isInvalidated: false,\n      isPaused: false,\n      status: hasData ? 'success' : 'idle'\n    };\n  };\n\n  _proto.reducer = function reducer(state, action) {\n    var _action$meta, _action$dataUpdatedAt;\n\n    switch (action.type) {\n      case 'failed':\n        return _extends({}, state, {\n          fetchFailureCount: state.fetchFailureCount + 1\n        });\n\n      case 'pause':\n        return _extends({}, state, {\n          isPaused: true\n        });\n\n      case 'continue':\n        return _extends({}, state, {\n          isPaused: false\n        });\n\n      case 'fetch':\n        return _extends({}, state, {\n          fetchFailureCount: 0,\n          fetchMeta: (_action$meta = action.meta) != null ? _action$meta : null,\n          isFetching: true,\n          isPaused: false\n        }, !state.dataUpdatedAt && {\n          error: null,\n          status: 'loading'\n        });\n\n      case 'success':\n        return _extends({}, state, {\n          data: action.data,\n          dataUpdateCount: state.dataUpdateCount + 1,\n          dataUpdatedAt: (_action$dataUpdatedAt = action.dataUpdatedAt) != null ? _action$dataUpdatedAt : Date.now(),\n          error: null,\n          fetchFailureCount: 0,\n          isFetching: false,\n          isInvalidated: false,\n          isPaused: false,\n          status: 'success'\n        });\n\n      case 'error':\n        var error = action.error;\n\n        if (isCancelledError(error) && error.revert && this.revertState) {\n          return _extends({}, this.revertState);\n        }\n\n        return _extends({}, state, {\n          error: error,\n          errorUpdateCount: state.errorUpdateCount + 1,\n          errorUpdatedAt: Date.now(),\n          fetchFailureCount: state.fetchFailureCount + 1,\n          isFetching: false,\n          isPaused: false,\n          status: 'error'\n        });\n\n      case 'invalidate':\n        return _extends({}, state, {\n          isInvalidated: true\n        });\n\n      case 'setState':\n        return _extends({}, state, action.state);\n\n      default:\n        return state;\n    }\n  };\n\n  return Query;\n}();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { hashQueryKeyByOptions, matchQuery, parseFilterArgs } from './utils';\nimport { Query } from './query';\nimport { notifyManager } from './notifyManager';\nimport { Subscribable } from './subscribable';\n// CLASS\nexport var QueryCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(QueryCache, _Subscribable);\n\n  function QueryCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.queries = [];\n    _this.queriesMap = {};\n    return _this;\n  }\n\n  var _proto = QueryCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var _options$queryHash;\n\n    var queryKey = options.queryKey;\n    var queryHash = (_options$queryHash = options.queryHash) != null ? _options$queryHash : hashQueryKeyByOptions(queryKey, options);\n    var query = this.get(queryHash);\n\n    if (!query) {\n      query = new Query({\n        cache: this,\n        queryKey: queryKey,\n        queryHash: queryHash,\n        options: client.defaultQueryOptions(options),\n        state: state,\n        defaultOptions: client.getQueryDefaults(queryKey),\n        meta: options.meta\n      });\n      this.add(query);\n    }\n\n    return query;\n  };\n\n  _proto.add = function add(query) {\n    if (!this.queriesMap[query.queryHash]) {\n      this.queriesMap[query.queryHash] = query;\n      this.queries.push(query);\n      this.notify({\n        type: 'queryAdded',\n        query: query\n      });\n    }\n  };\n\n  _proto.remove = function remove(query) {\n    var queryInMap = this.queriesMap[query.queryHash];\n\n    if (queryInMap) {\n      query.destroy();\n      this.queries = this.queries.filter(function (x) {\n        return x !== query;\n      });\n\n      if (queryInMap === query) {\n        delete this.queriesMap[query.queryHash];\n      }\n\n      this.notify({\n        type: 'queryRemoved',\n        query: query\n      });\n    }\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.queries.forEach(function (query) {\n        _this2.remove(query);\n      });\n    });\n  };\n\n  _proto.get = function get(queryHash) {\n    return this.queriesMap[queryHash];\n  };\n\n  _proto.getAll = function getAll() {\n    return this.queries;\n  };\n\n  _proto.find = function find(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.queries.find(function (query) {\n      return matchQuery(filters, query);\n    });\n  };\n\n  _proto.findAll = function findAll(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    return Object.keys(filters).length > 0 ? this.queries.filter(function (query) {\n      return matchQuery(filters, query);\n    }) : this.queries;\n  };\n\n  _proto.notify = function notify(event) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(event);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this4 = this;\n\n    notifyManager.batch(function () {\n      _this4.queries.forEach(function (query) {\n        query.onFocus();\n      });\n    });\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this5 = this;\n\n    notifyManager.batch(function () {\n      _this5.queries.forEach(function (query) {\n        query.onOnline();\n      });\n    });\n  };\n\n  return QueryCache;\n}(Subscribable);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getLogger } from './logger';\nimport { notifyManager } from './notifyManager';\nimport { Retryer } from './retryer';\nimport { noop } from './utils'; // TYPES\n\n// CLASS\nexport var Mutation = /*#__PURE__*/function () {\n  function Mutation(config) {\n    this.options = _extends({}, config.defaultOptions, config.options);\n    this.mutationId = config.mutationId;\n    this.mutationCache = config.mutationCache;\n    this.observers = [];\n    this.state = config.state || getDefaultState();\n    this.meta = config.meta;\n  }\n\n  var _proto = Mutation.prototype;\n\n  _proto.setState = function setState(state) {\n    this.dispatch({\n      type: 'setState',\n      state: state\n    });\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    this.observers = this.observers.filter(function (x) {\n      return x !== observer;\n    });\n  };\n\n  _proto.cancel = function cancel() {\n    if (this.retryer) {\n      this.retryer.cancel();\n      return this.retryer.promise.then(noop).catch(noop);\n    }\n\n    return Promise.resolve();\n  };\n\n  _proto.continue = function _continue() {\n    if (this.retryer) {\n      this.retryer.continue();\n      return this.retryer.promise;\n    }\n\n    return this.execute();\n  };\n\n  _proto.execute = function execute() {\n    var _this = this;\n\n    var data;\n    var restored = this.state.status === 'loading';\n    var promise = Promise.resolve();\n\n    if (!restored) {\n      this.dispatch({\n        type: 'loading',\n        variables: this.options.variables\n      });\n      promise = promise.then(function () {\n        // Notify cache callback\n        _this.mutationCache.config.onMutate == null ? void 0 : _this.mutationCache.config.onMutate(_this.state.variables, _this);\n      }).then(function () {\n        return _this.options.onMutate == null ? void 0 : _this.options.onMutate(_this.state.variables);\n      }).then(function (context) {\n        if (context !== _this.state.context) {\n          _this.dispatch({\n            type: 'loading',\n            context: context,\n            variables: _this.state.variables\n          });\n        }\n      });\n    }\n\n    return promise.then(function () {\n      return _this.executeMutation();\n    }).then(function (result) {\n      data = result; // Notify cache callback\n\n      _this.mutationCache.config.onSuccess == null ? void 0 : _this.mutationCache.config.onSuccess(data, _this.state.variables, _this.state.context, _this);\n    }).then(function () {\n      return _this.options.onSuccess == null ? void 0 : _this.options.onSuccess(data, _this.state.variables, _this.state.context);\n    }).then(function () {\n      return _this.options.onSettled == null ? void 0 : _this.options.onSettled(data, null, _this.state.variables, _this.state.context);\n    }).then(function () {\n      _this.dispatch({\n        type: 'success',\n        data: data\n      });\n\n      return data;\n    }).catch(function (error) {\n      // Notify cache callback\n      _this.mutationCache.config.onError == null ? void 0 : _this.mutationCache.config.onError(error, _this.state.variables, _this.state.context, _this); // Log error\n\n      getLogger().error(error);\n      return Promise.resolve().then(function () {\n        return _this.options.onError == null ? void 0 : _this.options.onError(error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        return _this.options.onSettled == null ? void 0 : _this.options.onSettled(undefined, error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        _this.dispatch({\n          type: 'error',\n          error: error\n        });\n\n        throw error;\n      });\n    });\n  };\n\n  _proto.executeMutation = function executeMutation() {\n    var _this2 = this,\n        _this$options$retry;\n\n    this.retryer = new Retryer({\n      fn: function fn() {\n        if (!_this2.options.mutationFn) {\n          return Promise.reject('No mutationFn found');\n        }\n\n        return _this2.options.mutationFn(_this2.state.variables);\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\n      retryDelay: this.options.retryDelay\n    });\n    return this.retryer.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onMutationUpdate(action);\n      });\n\n      _this3.mutationCache.notify(_this3);\n    });\n  };\n\n  return Mutation;\n}();\nexport function getDefaultState() {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined\n  };\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'failed':\n      return _extends({}, state, {\n        failureCount: state.failureCount + 1\n      });\n\n    case 'pause':\n      return _extends({}, state, {\n        isPaused: true\n      });\n\n    case 'continue':\n      return _extends({}, state, {\n        isPaused: false\n      });\n\n    case 'loading':\n      return _extends({}, state, {\n        context: action.context,\n        data: undefined,\n        error: null,\n        isPaused: false,\n        status: 'loading',\n        variables: action.variables\n      });\n\n    case 'success':\n      return _extends({}, state, {\n        data: action.data,\n        error: null,\n        status: 'success',\n        isPaused: false\n      });\n\n    case 'error':\n      return _extends({}, state, {\n        data: undefined,\n        error: action.error,\n        failureCount: state.failureCount + 1,\n        isPaused: false,\n        status: 'error'\n      });\n\n    case 'setState':\n      return _extends({}, state, action.state);\n\n    default:\n      return state;\n  }\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { notifyManager } from './notifyManager';\nimport { Mutation } from './mutation';\nimport { matchMutation, noop } from './utils';\nimport { Subscribable } from './subscribable'; // TYPES\n\n// CLASS\nexport var MutationCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(MutationCache, _Subscribable);\n\n  function MutationCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.mutations = [];\n    _this.mutationId = 0;\n    return _this;\n  }\n\n  var _proto = MutationCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.mutationId,\n      options: client.defaultMutationOptions(options),\n      state: state,\n      defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : undefined,\n      meta: options.meta\n    });\n    this.add(mutation);\n    return mutation;\n  };\n\n  _proto.add = function add(mutation) {\n    this.mutations.push(mutation);\n    this.notify(mutation);\n  };\n\n  _proto.remove = function remove(mutation) {\n    this.mutations = this.mutations.filter(function (x) {\n      return x !== mutation;\n    });\n    mutation.cancel();\n    this.notify(mutation);\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.mutations.forEach(function (mutation) {\n        _this2.remove(mutation);\n      });\n    });\n  };\n\n  _proto.getAll = function getAll() {\n    return this.mutations;\n  };\n\n  _proto.find = function find(filters) {\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.mutations.find(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.findAll = function findAll(filters) {\n    return this.mutations.filter(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.notify = function notify(mutation) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(mutation);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.resumePausedMutations();\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.resumePausedMutations();\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    var pausedMutations = this.mutations.filter(function (x) {\n      return x.state.isPaused;\n    });\n    return notifyManager.batch(function () {\n      return pausedMutations.reduce(function (promise, mutation) {\n        return promise.then(function () {\n          return mutation.continue().catch(noop);\n        });\n      }, Promise.resolve());\n    });\n  };\n\n  return MutationCache;\n}(Subscribable);","import { isCancelable } from './retryer';\nimport { getAbortController } from './utils';\nexport function infiniteQueryBehavior() {\n  return {\n    onFetch: function onFetch(context) {\n      context.fetchFn = function () {\n        var _context$fetchOptions, _context$fetchOptions2, _context$fetchOptions3, _context$fetchOptions4, _context$state$data, _context$state$data2;\n\n        var refetchPage = (_context$fetchOptions = context.fetchOptions) == null ? void 0 : (_context$fetchOptions2 = _context$fetchOptions.meta) == null ? void 0 : _context$fetchOptions2.refetchPage;\n        var fetchMore = (_context$fetchOptions3 = context.fetchOptions) == null ? void 0 : (_context$fetchOptions4 = _context$fetchOptions3.meta) == null ? void 0 : _context$fetchOptions4.fetchMore;\n        var pageParam = fetchMore == null ? void 0 : fetchMore.pageParam;\n        var isFetchingNextPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'forward';\n        var isFetchingPreviousPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'backward';\n        var oldPages = ((_context$state$data = context.state.data) == null ? void 0 : _context$state$data.pages) || [];\n        var oldPageParams = ((_context$state$data2 = context.state.data) == null ? void 0 : _context$state$data2.pageParams) || [];\n        var abortController = getAbortController();\n        var abortSignal = abortController == null ? void 0 : abortController.signal;\n        var newPageParams = oldPageParams;\n        var cancelled = false; // Get query function\n\n        var queryFn = context.options.queryFn || function () {\n          return Promise.reject('Missing queryFn');\n        };\n\n        var buildNewPages = function buildNewPages(pages, param, page, previous) {\n          newPageParams = previous ? [param].concat(newPageParams) : [].concat(newPageParams, [param]);\n          return previous ? [page].concat(pages) : [].concat(pages, [page]);\n        }; // Create function to fetch a page\n\n\n        var fetchPage = function fetchPage(pages, manual, param, previous) {\n          if (cancelled) {\n            return Promise.reject('Cancelled');\n          }\n\n          if (typeof param === 'undefined' && !manual && pages.length) {\n            return Promise.resolve(pages);\n          }\n\n          var queryFnContext = {\n            queryKey: context.queryKey,\n            signal: abortSignal,\n            pageParam: param,\n            meta: context.meta\n          };\n          var queryFnResult = queryFn(queryFnContext);\n          var promise = Promise.resolve(queryFnResult).then(function (page) {\n            return buildNewPages(pages, param, page, previous);\n          });\n\n          if (isCancelable(queryFnResult)) {\n            var promiseAsAny = promise;\n            promiseAsAny.cancel = queryFnResult.cancel;\n          }\n\n          return promise;\n        };\n\n        var promise; // Fetch first page?\n\n        if (!oldPages.length) {\n          promise = fetchPage([]);\n        } // Fetch next page?\n        else if (isFetchingNextPage) {\n            var manual = typeof pageParam !== 'undefined';\n            var param = manual ? pageParam : getNextPageParam(context.options, oldPages);\n            promise = fetchPage(oldPages, manual, param);\n          } // Fetch previous page?\n          else if (isFetchingPreviousPage) {\n              var _manual = typeof pageParam !== 'undefined';\n\n              var _param = _manual ? pageParam : getPreviousPageParam(context.options, oldPages);\n\n              promise = fetchPage(oldPages, _manual, _param, true);\n            } // Refetch pages\n            else {\n                (function () {\n                  newPageParams = [];\n                  var manual = typeof context.options.getNextPageParam === 'undefined';\n                  var shouldFetchFirstPage = refetchPage && oldPages[0] ? refetchPage(oldPages[0], 0, oldPages) : true; // Fetch first page\n\n                  promise = shouldFetchFirstPage ? fetchPage([], manual, oldPageParams[0]) : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0])); // Fetch remaining pages\n\n                  var _loop = function _loop(i) {\n                    promise = promise.then(function (pages) {\n                      var shouldFetchNextPage = refetchPage && oldPages[i] ? refetchPage(oldPages[i], i, oldPages) : true;\n\n                      if (shouldFetchNextPage) {\n                        var _param2 = manual ? oldPageParams[i] : getNextPageParam(context.options, pages);\n\n                        return fetchPage(pages, manual, _param2);\n                      }\n\n                      return Promise.resolve(buildNewPages(pages, oldPageParams[i], oldPages[i]));\n                    });\n                  };\n\n                  for (var i = 1; i < oldPages.length; i++) {\n                    _loop(i);\n                  }\n                })();\n              }\n\n        var finalPromise = promise.then(function (pages) {\n          return {\n            pages: pages,\n            pageParams: newPageParams\n          };\n        });\n        var finalPromiseAsAny = finalPromise;\n\n        finalPromiseAsAny.cancel = function () {\n          cancelled = true;\n          abortController == null ? void 0 : abortController.abort();\n\n          if (isCancelable(promise)) {\n            promise.cancel();\n          }\n        };\n\n        return finalPromise;\n      };\n    }\n  };\n}\nexport function getNextPageParam(options, pages) {\n  return options.getNextPageParam == null ? void 0 : options.getNextPageParam(pages[pages.length - 1], pages);\n}\nexport function getPreviousPageParam(options, pages) {\n  return options.getPreviousPageParam == null ? void 0 : options.getPreviousPageParam(pages[0], pages);\n}\n/**\n * Checks if there is a next page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasNextPage(options, pages) {\n  if (options.getNextPageParam && Array.isArray(pages)) {\n    var nextPageParam = getNextPageParam(options, pages);\n    return typeof nextPageParam !== 'undefined' && nextPageParam !== null && nextPageParam !== false;\n  }\n}\n/**\n * Checks if there is a previous page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasPreviousPage(options, pages) {\n  if (options.getPreviousPageParam && Array.isArray(pages)) {\n    var previousPageParam = getPreviousPageParam(options, pages);\n    return typeof previousPageParam !== 'undefined' && previousPageParam !== null && previousPageParam !== false;\n  }\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { hashQueryKey, noop, parseFilterArgs, parseQueryArgs, partialMatchKey, hashQueryKeyByOptions } from './utils';\nimport { QueryCache } from './queryCache';\nimport { MutationCache } from './mutationCache';\nimport { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { notifyManager } from './notifyManager';\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior';\n// CLASS\nexport var QueryClient = /*#__PURE__*/function () {\n  function QueryClient(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.queryCache = config.queryCache || new QueryCache();\n    this.mutationCache = config.mutationCache || new MutationCache();\n    this.defaultOptions = config.defaultOptions || {};\n    this.queryDefaults = [];\n    this.mutationDefaults = [];\n  }\n\n  var _proto = QueryClient.prototype;\n\n  _proto.mount = function mount() {\n    var _this = this;\n\n    this.unsubscribeFocus = focusManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onFocus();\n\n        _this.queryCache.onFocus();\n      }\n    });\n    this.unsubscribeOnline = onlineManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onOnline();\n\n        _this.queryCache.onOnline();\n      }\n    });\n  };\n\n  _proto.unmount = function unmount() {\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\n\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\n  };\n\n  _proto.isFetching = function isFetching(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    filters.fetching = true;\n    return this.queryCache.findAll(filters).length;\n  };\n\n  _proto.isMutating = function isMutating(filters) {\n    return this.mutationCache.findAll(_extends({}, filters, {\n      fetching: true\n    })).length;\n  };\n\n  _proto.getQueryData = function getQueryData(queryKey, filters) {\n    var _this$queryCache$find;\n\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\n  };\n\n  _proto.getQueriesData = function getQueriesData(queryKeyOrFilters) {\n    return this.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref) {\n      var queryKey = _ref.queryKey,\n          state = _ref.state;\n      var data = state.data;\n      return [queryKey, data];\n    });\n  };\n\n  _proto.setQueryData = function setQueryData(queryKey, updater, options) {\n    var parsedOptions = parseQueryArgs(queryKey);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions);\n    return this.queryCache.build(this, defaultedOptions).setData(updater, options);\n  };\n\n  _proto.setQueriesData = function setQueriesData(queryKeyOrFilters, updater, options) {\n    var _this2 = this;\n\n    return notifyManager.batch(function () {\n      return _this2.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref2) {\n        var queryKey = _ref2.queryKey;\n        return [queryKey, _this2.setQueryData(queryKey, updater, options)];\n      });\n    });\n  };\n\n  _proto.getQueryState = function getQueryState(queryKey, filters) {\n    var _this$queryCache$find2;\n\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\n  };\n\n  _proto.removeQueries = function removeQueries(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    var queryCache = this.queryCache;\n    notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        queryCache.remove(query);\n      });\n    });\n  };\n\n  _proto.resetQueries = function resetQueries(arg1, arg2, arg3) {\n    var _this3 = this;\n\n    var _parseFilterArgs3 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs3[0],\n        options = _parseFilterArgs3[1];\n\n    var queryCache = this.queryCache;\n\n    var refetchFilters = _extends({}, filters, {\n      active: true\n    });\n\n    return notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        query.reset();\n      });\n      return _this3.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.cancelQueries = function cancelQueries(arg1, arg2, arg3) {\n    var _this4 = this;\n\n    var _parseFilterArgs4 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs4[0],\n        _parseFilterArgs4$ = _parseFilterArgs4[1],\n        cancelOptions = _parseFilterArgs4$ === void 0 ? {} : _parseFilterArgs4$;\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true;\n    }\n\n    var promises = notifyManager.batch(function () {\n      return _this4.queryCache.findAll(filters).map(function (query) {\n        return query.cancel(cancelOptions);\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.invalidateQueries = function invalidateQueries(arg1, arg2, arg3) {\n    var _ref3,\n        _filters$refetchActiv,\n        _filters$refetchInact,\n        _this5 = this;\n\n    var _parseFilterArgs5 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs5[0],\n        options = _parseFilterArgs5[1];\n\n    var refetchFilters = _extends({}, filters, {\n      // if filters.refetchActive is not provided and filters.active is explicitly false,\n      // e.g. invalidateQueries({ active: false }), we don't want to refetch active queries\n      active: (_ref3 = (_filters$refetchActiv = filters.refetchActive) != null ? _filters$refetchActiv : filters.active) != null ? _ref3 : true,\n      inactive: (_filters$refetchInact = filters.refetchInactive) != null ? _filters$refetchInact : false\n    });\n\n    return notifyManager.batch(function () {\n      _this5.queryCache.findAll(filters).forEach(function (query) {\n        query.invalidate();\n      });\n\n      return _this5.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.refetchQueries = function refetchQueries(arg1, arg2, arg3) {\n    var _this6 = this;\n\n    var _parseFilterArgs6 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs6[0],\n        options = _parseFilterArgs6[1];\n\n    var promises = notifyManager.batch(function () {\n      return _this6.queryCache.findAll(filters).map(function (query) {\n        return query.fetch(undefined, _extends({}, options, {\n          meta: {\n            refetchPage: filters == null ? void 0 : filters.refetchPage\n          }\n        }));\n      });\n    });\n    var promise = Promise.all(promises).then(noop);\n\n    if (!(options == null ? void 0 : options.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.fetchQuery = function fetchQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\n\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false;\n    }\n\n    var query = this.queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  };\n\n  _proto.prefetchQuery = function prefetchQuery(arg1, arg2, arg3) {\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.fetchInfiniteQuery = function fetchInfiniteQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    parsedOptions.behavior = infiniteQueryBehavior();\n    return this.fetchQuery(parsedOptions);\n  };\n\n  _proto.prefetchInfiniteQuery = function prefetchInfiniteQuery(arg1, arg2, arg3) {\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.cancelMutations = function cancelMutations() {\n    var _this7 = this;\n\n    var promises = notifyManager.batch(function () {\n      return _this7.mutationCache.getAll().map(function (mutation) {\n        return mutation.cancel();\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    return this.getMutationCache().resumePausedMutations();\n  };\n\n  _proto.executeMutation = function executeMutation(options) {\n    return this.mutationCache.build(this, options).execute();\n  };\n\n  _proto.getQueryCache = function getQueryCache() {\n    return this.queryCache;\n  };\n\n  _proto.getMutationCache = function getMutationCache() {\n    return this.mutationCache;\n  };\n\n  _proto.getDefaultOptions = function getDefaultOptions() {\n    return this.defaultOptions;\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.setQueryDefaults = function setQueryDefaults(queryKey, options) {\n    var result = this.queryDefaults.find(function (x) {\n      return hashQueryKey(queryKey) === hashQueryKey(x.queryKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.queryDefaults.push({\n        queryKey: queryKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getQueryDefaults = function getQueryDefaults(queryKey) {\n    var _this$queryDefaults$f;\n\n    return queryKey ? (_this$queryDefaults$f = this.queryDefaults.find(function (x) {\n      return partialMatchKey(queryKey, x.queryKey);\n    })) == null ? void 0 : _this$queryDefaults$f.defaultOptions : undefined;\n  };\n\n  _proto.setMutationDefaults = function setMutationDefaults(mutationKey, options) {\n    var result = this.mutationDefaults.find(function (x) {\n      return hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.mutationDefaults.push({\n        mutationKey: mutationKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getMutationDefaults = function getMutationDefaults(mutationKey) {\n    var _this$mutationDefault;\n\n    return mutationKey ? (_this$mutationDefault = this.mutationDefaults.find(function (x) {\n      return partialMatchKey(mutationKey, x.mutationKey);\n    })) == null ? void 0 : _this$mutationDefault.defaultOptions : undefined;\n  };\n\n  _proto.defaultQueryOptions = function defaultQueryOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    var defaultedOptions = _extends({}, this.defaultOptions.queries, this.getQueryDefaults(options == null ? void 0 : options.queryKey), options, {\n      _defaulted: true\n    });\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    }\n\n    return defaultedOptions;\n  };\n\n  _proto.defaultQueryObserverOptions = function defaultQueryObserverOptions(options) {\n    return this.defaultQueryOptions(options);\n  };\n\n  _proto.defaultMutationOptions = function defaultMutationOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    return _extends({}, this.defaultOptions.mutations, this.getMutationDefaults(options == null ? void 0 : options.mutationKey), options, {\n      _defaulted: true\n    });\n  };\n\n  _proto.clear = function clear() {\n    this.queryCache.clear();\n    this.mutationCache.clear();\n  };\n\n  return QueryClient;\n}();","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { isServer, isValidTimeout, noop, replaceEqualDeep, shallowEqualObjects, timeUntilStale } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { focusManager } from './focusManager';\nimport { Subscribable } from './subscribable';\nimport { getLogger } from './logger';\nimport { isCancelledError } from './retryer';\nexport var QueryObserver = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(QueryObserver, _Subscribable);\n\n  function QueryObserver(client, options) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.client = client;\n    _this.options = options;\n    _this.trackedProps = [];\n    _this.selectError = null;\n\n    _this.bindMethods();\n\n    _this.setOptions(options);\n\n    return _this;\n  }\n\n  var _proto = QueryObserver.prototype;\n\n  _proto.bindMethods = function bindMethods() {\n    this.remove = this.remove.bind(this);\n    this.refetch = this.refetch.bind(this);\n  };\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (this.listeners.length === 1) {\n      this.currentQuery.addObserver(this);\n\n      if (shouldFetchOnMount(this.currentQuery, this.options)) {\n        this.executeFetch();\n      }\n\n      this.updateTimers();\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.listeners.length) {\n      this.destroy();\n    }\n  };\n\n  _proto.shouldFetchOnReconnect = function shouldFetchOnReconnect() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnReconnect);\n  };\n\n  _proto.shouldFetchOnWindowFocus = function shouldFetchOnWindowFocus() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnWindowFocus);\n  };\n\n  _proto.destroy = function destroy() {\n    this.listeners = [];\n    this.clearTimers();\n    this.currentQuery.removeObserver(this);\n  };\n\n  _proto.setOptions = function setOptions(options, notifyOptions) {\n    var prevOptions = this.options;\n    var prevQuery = this.currentQuery;\n    this.options = this.client.defaultQueryObserverOptions(options);\n\n    if (typeof this.options.enabled !== 'undefined' && typeof this.options.enabled !== 'boolean') {\n      throw new Error('Expected enabled to be a boolean');\n    } // Keep previous query key if the user does not supply one\n\n\n    if (!this.options.queryKey) {\n      this.options.queryKey = prevOptions.queryKey;\n    }\n\n    this.updateQuery();\n    var mounted = this.hasListeners(); // Fetch if there are subscribers\n\n    if (mounted && shouldFetchOptionally(this.currentQuery, prevQuery, this.options, prevOptions)) {\n      this.executeFetch();\n    } // Update result\n\n\n    this.updateResult(notifyOptions); // Update stale interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || this.options.staleTime !== prevOptions.staleTime)) {\n      this.updateStaleTimeout();\n    }\n\n    var nextRefetchInterval = this.computeRefetchInterval(); // Update refetch interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || nextRefetchInterval !== this.currentRefetchInterval)) {\n      this.updateRefetchInterval(nextRefetchInterval);\n    }\n  };\n\n  _proto.getOptimisticResult = function getOptimisticResult(options) {\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\n    var query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    return this.createResult(query, defaultedOptions);\n  };\n\n  _proto.getCurrentResult = function getCurrentResult() {\n    return this.currentResult;\n  };\n\n  _proto.trackResult = function trackResult(result, defaultedOptions) {\n    var _this2 = this;\n\n    var trackedResult = {};\n\n    var trackProp = function trackProp(key) {\n      if (!_this2.trackedProps.includes(key)) {\n        _this2.trackedProps.push(key);\n      }\n    };\n\n    Object.keys(result).forEach(function (key) {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: function get() {\n          trackProp(key);\n          return result[key];\n        }\n      });\n    });\n\n    if (defaultedOptions.useErrorBoundary || defaultedOptions.suspense) {\n      trackProp('error');\n    }\n\n    return trackedResult;\n  };\n\n  _proto.getNextResult = function getNextResult(options) {\n    var _this3 = this;\n\n    return new Promise(function (resolve, reject) {\n      var unsubscribe = _this3.subscribe(function (result) {\n        if (!result.isFetching) {\n          unsubscribe();\n\n          if (result.isError && (options == null ? void 0 : options.throwOnError)) {\n            reject(result.error);\n          } else {\n            resolve(result);\n          }\n        }\n      });\n    });\n  };\n\n  _proto.getCurrentQuery = function getCurrentQuery() {\n    return this.currentQuery;\n  };\n\n  _proto.remove = function remove() {\n    this.client.getQueryCache().remove(this.currentQuery);\n  };\n\n  _proto.refetch = function refetch(options) {\n    return this.fetch(_extends({}, options, {\n      meta: {\n        refetchPage: options == null ? void 0 : options.refetchPage\n      }\n    }));\n  };\n\n  _proto.fetchOptimistic = function fetchOptimistic(options) {\n    var _this4 = this;\n\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\n    var query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    return query.fetch().then(function () {\n      return _this4.createResult(query, defaultedOptions);\n    });\n  };\n\n  _proto.fetch = function fetch(fetchOptions) {\n    var _this5 = this;\n\n    return this.executeFetch(fetchOptions).then(function () {\n      _this5.updateResult();\n\n      return _this5.currentResult;\n    });\n  };\n\n  _proto.executeFetch = function executeFetch(fetchOptions) {\n    // Make sure we reference the latest query as the current one might have been removed\n    this.updateQuery(); // Fetch\n\n    var promise = this.currentQuery.fetch(this.options, fetchOptions);\n\n    if (!(fetchOptions == null ? void 0 : fetchOptions.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.updateStaleTimeout = function updateStaleTimeout() {\n    var _this6 = this;\n\n    this.clearStaleTimeout();\n\n    if (isServer || this.currentResult.isStale || !isValidTimeout(this.options.staleTime)) {\n      return;\n    }\n\n    var time = timeUntilStale(this.currentResult.dataUpdatedAt, this.options.staleTime); // The timeout is sometimes triggered 1 ms before the stale time expiration.\n    // To mitigate this issue we always add 1 ms to the timeout.\n\n    var timeout = time + 1;\n    this.staleTimeoutId = setTimeout(function () {\n      if (!_this6.currentResult.isStale) {\n        _this6.updateResult();\n      }\n    }, timeout);\n  };\n\n  _proto.computeRefetchInterval = function computeRefetchInterval() {\n    var _this$options$refetch;\n\n    return typeof this.options.refetchInterval === 'function' ? this.options.refetchInterval(this.currentResult.data, this.currentQuery) : (_this$options$refetch = this.options.refetchInterval) != null ? _this$options$refetch : false;\n  };\n\n  _proto.updateRefetchInterval = function updateRefetchInterval(nextInterval) {\n    var _this7 = this;\n\n    this.clearRefetchInterval();\n    this.currentRefetchInterval = nextInterval;\n\n    if (isServer || this.options.enabled === false || !isValidTimeout(this.currentRefetchInterval) || this.currentRefetchInterval === 0) {\n      return;\n    }\n\n    this.refetchIntervalId = setInterval(function () {\n      if (_this7.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        _this7.executeFetch();\n      }\n    }, this.currentRefetchInterval);\n  };\n\n  _proto.updateTimers = function updateTimers() {\n    this.updateStaleTimeout();\n    this.updateRefetchInterval(this.computeRefetchInterval());\n  };\n\n  _proto.clearTimers = function clearTimers() {\n    this.clearStaleTimeout();\n    this.clearRefetchInterval();\n  };\n\n  _proto.clearStaleTimeout = function clearStaleTimeout() {\n    if (this.staleTimeoutId) {\n      clearTimeout(this.staleTimeoutId);\n      this.staleTimeoutId = undefined;\n    }\n  };\n\n  _proto.clearRefetchInterval = function clearRefetchInterval() {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId);\n      this.refetchIntervalId = undefined;\n    }\n  };\n\n  _proto.createResult = function createResult(query, options) {\n    var prevQuery = this.currentQuery;\n    var prevOptions = this.options;\n    var prevResult = this.currentResult;\n    var prevResultState = this.currentResultState;\n    var prevResultOptions = this.currentResultOptions;\n    var queryChange = query !== prevQuery;\n    var queryInitialState = queryChange ? query.state : this.currentQueryInitialState;\n    var prevQueryResult = queryChange ? this.currentResult : this.previousQueryResult;\n    var state = query.state;\n    var dataUpdatedAt = state.dataUpdatedAt,\n        error = state.error,\n        errorUpdatedAt = state.errorUpdatedAt,\n        isFetching = state.isFetching,\n        status = state.status;\n    var isPreviousData = false;\n    var isPlaceholderData = false;\n    var data; // Optimistically set result in fetching state if needed\n\n    if (options.optimisticResults) {\n      var mounted = this.hasListeners();\n      var fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      var fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n\n      if (fetchOnMount || fetchOptionally) {\n        isFetching = true;\n\n        if (!dataUpdatedAt) {\n          status = 'loading';\n        }\n      }\n    } // Keep previous data if needed\n\n\n    if (options.keepPreviousData && !state.dataUpdateCount && (prevQueryResult == null ? void 0 : prevQueryResult.isSuccess) && status !== 'error') {\n      data = prevQueryResult.data;\n      dataUpdatedAt = prevQueryResult.dataUpdatedAt;\n      status = prevQueryResult.status;\n      isPreviousData = true;\n    } // Select data if needed\n    else if (options.select && typeof state.data !== 'undefined') {\n        // Memoize select result\n        if (prevResult && state.data === (prevResultState == null ? void 0 : prevResultState.data) && options.select === this.selectFn) {\n          data = this.selectResult;\n        } else {\n          try {\n            this.selectFn = options.select;\n            data = options.select(state.data);\n\n            if (options.structuralSharing !== false) {\n              data = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, data);\n            }\n\n            this.selectResult = data;\n            this.selectError = null;\n          } catch (selectError) {\n            getLogger().error(selectError);\n            this.selectError = selectError;\n          }\n        }\n      } // Use query data\n      else {\n          data = state.data;\n        } // Show placeholder data if needed\n\n\n    if (typeof options.placeholderData !== 'undefined' && typeof data === 'undefined' && (status === 'loading' || status === 'idle')) {\n      var placeholderData; // Memoize placeholder data\n\n      if ((prevResult == null ? void 0 : prevResult.isPlaceholderData) && options.placeholderData === (prevResultOptions == null ? void 0 : prevResultOptions.placeholderData)) {\n        placeholderData = prevResult.data;\n      } else {\n        placeholderData = typeof options.placeholderData === 'function' ? options.placeholderData() : options.placeholderData;\n\n        if (options.select && typeof placeholderData !== 'undefined') {\n          try {\n            placeholderData = options.select(placeholderData);\n\n            if (options.structuralSharing !== false) {\n              placeholderData = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, placeholderData);\n            }\n\n            this.selectError = null;\n          } catch (selectError) {\n            getLogger().error(selectError);\n            this.selectError = selectError;\n          }\n        }\n      }\n\n      if (typeof placeholderData !== 'undefined') {\n        status = 'success';\n        data = placeholderData;\n        isPlaceholderData = true;\n      }\n    }\n\n    if (this.selectError) {\n      error = this.selectError;\n      data = this.selectResult;\n      errorUpdatedAt = Date.now();\n      status = 'error';\n    }\n\n    var result = {\n      status: status,\n      isLoading: status === 'loading',\n      isSuccess: status === 'success',\n      isError: status === 'error',\n      isIdle: status === 'idle',\n      data: data,\n      dataUpdatedAt: dataUpdatedAt,\n      error: error,\n      errorUpdatedAt: errorUpdatedAt,\n      failureCount: state.fetchFailureCount,\n      errorUpdateCount: state.errorUpdateCount,\n      isFetched: state.dataUpdateCount > 0 || state.errorUpdateCount > 0,\n      isFetchedAfterMount: state.dataUpdateCount > queryInitialState.dataUpdateCount || state.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching: isFetching,\n      isRefetching: isFetching && status !== 'loading',\n      isLoadingError: status === 'error' && state.dataUpdatedAt === 0,\n      isPlaceholderData: isPlaceholderData,\n      isPreviousData: isPreviousData,\n      isRefetchError: status === 'error' && state.dataUpdatedAt !== 0,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      remove: this.remove\n    };\n    return result;\n  };\n\n  _proto.shouldNotifyListeners = function shouldNotifyListeners(result, prevResult) {\n    if (!prevResult) {\n      return true;\n    }\n\n    var _this$options = this.options,\n        notifyOnChangeProps = _this$options.notifyOnChangeProps,\n        notifyOnChangePropsExclusions = _this$options.notifyOnChangePropsExclusions;\n\n    if (!notifyOnChangeProps && !notifyOnChangePropsExclusions) {\n      return true;\n    }\n\n    if (notifyOnChangeProps === 'tracked' && !this.trackedProps.length) {\n      return true;\n    }\n\n    var includedProps = notifyOnChangeProps === 'tracked' ? this.trackedProps : notifyOnChangeProps;\n    return Object.keys(result).some(function (key) {\n      var typedKey = key;\n      var changed = result[typedKey] !== prevResult[typedKey];\n      var isIncluded = includedProps == null ? void 0 : includedProps.some(function (x) {\n        return x === key;\n      });\n      var isExcluded = notifyOnChangePropsExclusions == null ? void 0 : notifyOnChangePropsExclusions.some(function (x) {\n        return x === key;\n      });\n      return changed && !isExcluded && (!includedProps || isIncluded);\n    });\n  };\n\n  _proto.updateResult = function updateResult(notifyOptions) {\n    var prevResult = this.currentResult;\n    this.currentResult = this.createResult(this.currentQuery, this.options);\n    this.currentResultState = this.currentQuery.state;\n    this.currentResultOptions = this.options; // Only notify if something has changed\n\n    if (shallowEqualObjects(this.currentResult, prevResult)) {\n      return;\n    } // Determine which callbacks to trigger\n\n\n    var defaultNotifyOptions = {\n      cache: true\n    };\n\n    if ((notifyOptions == null ? void 0 : notifyOptions.listeners) !== false && this.shouldNotifyListeners(this.currentResult, prevResult)) {\n      defaultNotifyOptions.listeners = true;\n    }\n\n    this.notify(_extends({}, defaultNotifyOptions, notifyOptions));\n  };\n\n  _proto.updateQuery = function updateQuery() {\n    var query = this.client.getQueryCache().build(this.client, this.options);\n\n    if (query === this.currentQuery) {\n      return;\n    }\n\n    var prevQuery = this.currentQuery;\n    this.currentQuery = query;\n    this.currentQueryInitialState = query.state;\n    this.previousQueryResult = this.currentResult;\n\n    if (this.hasListeners()) {\n      prevQuery == null ? void 0 : prevQuery.removeObserver(this);\n      query.addObserver(this);\n    }\n  };\n\n  _proto.onQueryUpdate = function onQueryUpdate(action) {\n    var notifyOptions = {};\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = true;\n    } else if (action.type === 'error' && !isCancelledError(action.error)) {\n      notifyOptions.onError = true;\n    }\n\n    this.updateResult(notifyOptions);\n\n    if (this.hasListeners()) {\n      this.updateTimers();\n    }\n  };\n\n  _proto.notify = function notify(notifyOptions) {\n    var _this8 = this;\n\n    notifyManager.batch(function () {\n      // First trigger the configuration callbacks\n      if (notifyOptions.onSuccess) {\n        _this8.options.onSuccess == null ? void 0 : _this8.options.onSuccess(_this8.currentResult.data);\n        _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(_this8.currentResult.data, null);\n      } else if (notifyOptions.onError) {\n        _this8.options.onError == null ? void 0 : _this8.options.onError(_this8.currentResult.error);\n        _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(undefined, _this8.currentResult.error);\n      } // Then trigger the listeners\n\n\n      if (notifyOptions.listeners) {\n        _this8.listeners.forEach(function (listener) {\n          listener(_this8.currentResult);\n        });\n      } // Then the cache listeners\n\n\n      if (notifyOptions.cache) {\n        _this8.client.getQueryCache().notify({\n          query: _this8.currentQuery,\n          type: 'observerResultsUpdated'\n        });\n      }\n    });\n  };\n\n  return QueryObserver;\n}(Subscribable);\n\nfunction shouldLoadOnMount(query, options) {\n  return options.enabled !== false && !query.state.dataUpdatedAt && !(query.state.status === 'error' && options.retryOnMount === false);\n}\n\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || query.state.dataUpdatedAt > 0 && shouldFetchOn(query, options, options.refetchOnMount);\n}\n\nfunction shouldFetchOn(query, options, field) {\n  if (options.enabled !== false) {\n    var value = typeof field === 'function' ? field(query) : field;\n    return value === 'always' || value !== false && isStale(query, options);\n  }\n\n  return false;\n}\n\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return options.enabled !== false && (query !== prevQuery || prevOptions.enabled === false) && (!options.suspense || query.state.status !== 'error') && isStale(query, options);\n}\n\nfunction isStale(query, options) {\n  return query.isStaleByTime(options.staleTime);\n}","import ReactDOM from 'react-dom';\nexport var unstable_batchedUpdates = ReactDOM.unstable_batchedUpdates;","import { notifyManager } from '../core';\nimport { unstable_batchedUpdates } from './reactBatchedUpdates';\nnotifyManager.setBatchNotifyFunction(unstable_batchedUpdates);","export var logger = console;","import { setLogger } from '../core';\nimport { logger } from './logger';\nsetLogger(logger);","import React from 'react';\nvar defaultContext = /*#__PURE__*/React.createContext(undefined);\nvar QueryClientSharingContext = /*#__PURE__*/React.createContext(false); // if contextSharing is on, we share the first and at least one\n// instance of the context across the window\n// to ensure that if React Query is used across\n// different bundles or microfrontends they will\n// all use the same **instance** of context, regardless\n// of module scoping.\n\nfunction getQueryClientContext(contextSharing) {\n  if (contextSharing && typeof window !== 'undefined') {\n    if (!window.ReactQueryClientContext) {\n      window.ReactQueryClientContext = defaultContext;\n    }\n\n    return window.ReactQueryClientContext;\n  }\n\n  return defaultContext;\n}\n\nexport var useQueryClient = function useQueryClient() {\n  var queryClient = React.useContext(getQueryClientContext(React.useContext(QueryClientSharingContext)));\n\n  if (!queryClient) {\n    throw new Error('No QueryClient set, use QueryClientProvider to set one');\n  }\n\n  return queryClient;\n};\nexport var QueryClientProvider = function QueryClientProvider(_ref) {\n  var client = _ref.client,\n      _ref$contextSharing = _ref.contextSharing,\n      contextSharing = _ref$contextSharing === void 0 ? false : _ref$contextSharing,\n      children = _ref.children;\n  React.useEffect(function () {\n    client.mount();\n    return function () {\n      client.unmount();\n    };\n  }, [client]);\n  var Context = getQueryClientContext(contextSharing);\n  return /*#__PURE__*/React.createElement(QueryClientSharingContext.Provider, {\n    value: contextSharing\n  }, /*#__PURE__*/React.createElement(Context.Provider, {\n    value: client\n  }, children));\n};","import React from 'react'; // CONTEXT\n\nfunction createValue() {\n  var _isReset = false;\n  return {\n    clearReset: function clearReset() {\n      _isReset = false;\n    },\n    reset: function reset() {\n      _isReset = true;\n    },\n    isReset: function isReset() {\n      return _isReset;\n    }\n  };\n}\n\nvar QueryErrorResetBoundaryContext = /*#__PURE__*/React.createContext(createValue()); // HOOK\n\nexport var useQueryErrorResetBoundary = function useQueryErrorResetBoundary() {\n  return React.useContext(QueryErrorResetBoundaryContext);\n}; // COMPONENT\n\nexport var QueryErrorResetBoundary = function QueryErrorResetBoundary(_ref) {\n  var children = _ref.children;\n  var value = React.useMemo(function () {\n    return createValue();\n  }, []);\n  return /*#__PURE__*/React.createElement(QueryErrorResetBoundaryContext.Provider, {\n    value: value\n  }, typeof children === 'function' ? children(value) : children);\n};","export function shouldThrowError(suspense, _useErrorBoundary, params) {\n  // Allow useErrorBoundary function to override throwing behavior on a per-error basis\n  if (typeof _useErrorBoundary === 'function') {\n    return _useErrorBoundary.apply(void 0, params);\n  } // Allow useErrorBoundary to override suspense's throwing behavior\n\n\n  if (typeof _useErrorBoundary === 'boolean') return _useErrorBoundary; // If suspense is enabled default to throwing errors\n\n  return !!suspense;\n}","import React from 'react';\nimport { notifyManager } from '../core/notifyManager';\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary';\nimport { useQueryClient } from './QueryClientProvider';\nimport { shouldThrowError } from './utils';\nexport function useBaseQuery(options, Observer) {\n  var mountedRef = React.useRef(false);\n\n  var _React$useState = React.useState(0),\n      forceUpdate = _React$useState[1];\n\n  var queryClient = useQueryClient();\n  var errorResetBoundary = useQueryErrorResetBoundary();\n  var defaultedOptions = queryClient.defaultQueryObserverOptions(options); // Make sure results are optimistically set in fetching state before subscribing or updating options\n\n  defaultedOptions.optimisticResults = true; // Include callbacks in batch renders\n\n  if (defaultedOptions.onError) {\n    defaultedOptions.onError = notifyManager.batchCalls(defaultedOptions.onError);\n  }\n\n  if (defaultedOptions.onSuccess) {\n    defaultedOptions.onSuccess = notifyManager.batchCalls(defaultedOptions.onSuccess);\n  }\n\n  if (defaultedOptions.onSettled) {\n    defaultedOptions.onSettled = notifyManager.batchCalls(defaultedOptions.onSettled);\n  }\n\n  if (defaultedOptions.suspense) {\n    // Always set stale time when using suspense to prevent\n    // fetching again when directly mounting after suspending\n    if (typeof defaultedOptions.staleTime !== 'number') {\n      defaultedOptions.staleTime = 1000;\n    } // Set cache time to 1 if the option has been set to 0\n    // when using suspense to prevent infinite loop of fetches\n\n\n    if (defaultedOptions.cacheTime === 0) {\n      defaultedOptions.cacheTime = 1;\n    }\n  }\n\n  if (defaultedOptions.suspense || defaultedOptions.useErrorBoundary) {\n    // Prevent retrying failed query if the error boundary has not been reset yet\n    if (!errorResetBoundary.isReset()) {\n      defaultedOptions.retryOnMount = false;\n    }\n  }\n\n  var _React$useState2 = React.useState(function () {\n    return new Observer(queryClient, defaultedOptions);\n  }),\n      observer = _React$useState2[0];\n\n  var result = observer.getOptimisticResult(defaultedOptions);\n  React.useEffect(function () {\n    mountedRef.current = true;\n    errorResetBoundary.clearReset();\n    var unsubscribe = observer.subscribe(notifyManager.batchCalls(function () {\n      if (mountedRef.current) {\n        forceUpdate(function (x) {\n          return x + 1;\n        });\n      }\n    })); // Update result to make sure we did not miss any query updates\n    // between creating the observer and subscribing to it.\n\n    observer.updateResult();\n    return function () {\n      mountedRef.current = false;\n      unsubscribe();\n    };\n  }, [errorResetBoundary, observer]);\n  React.useEffect(function () {\n    // Do not notify on updates because of changes in the options because\n    // these changes should already be reflected in the optimistic result.\n    observer.setOptions(defaultedOptions, {\n      listeners: false\n    });\n  }, [defaultedOptions, observer]); // Handle suspense\n\n  if (defaultedOptions.suspense && result.isLoading) {\n    throw observer.fetchOptimistic(defaultedOptions).then(function (_ref) {\n      var data = _ref.data;\n      defaultedOptions.onSuccess == null ? void 0 : defaultedOptions.onSuccess(data);\n      defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(data, null);\n    }).catch(function (error) {\n      errorResetBoundary.clearReset();\n      defaultedOptions.onError == null ? void 0 : defaultedOptions.onError(error);\n      defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(undefined, error);\n    });\n  } // Handle error boundary\n\n\n  if (result.isError && !errorResetBoundary.isReset() && !result.isFetching && shouldThrowError(defaultedOptions.suspense, defaultedOptions.useErrorBoundary, [result.error, observer.getCurrentQuery()])) {\n    throw result.error;\n  } // Handle result property usage tracking\n\n\n  if (defaultedOptions.notifyOnChangeProps === 'tracked') {\n    result = observer.trackResult(result, defaultedOptions);\n  }\n\n  return result;\n}","import { QueryObserver } from '../core';\nimport { parseQueryArgs } from '../core/utils';\nimport { useBaseQuery } from './useBaseQuery'; // HOOK\n\nexport function useQuery(arg1, arg2, arg3) {\n  var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n  return useBaseQuery(parsedOptions, QueryObserver);\n}","let e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,j as styled};\n","\"use client\";\nvar W=e=>typeof e==\"function\",f=(e,t)=>W(e)?e(t):e;var F=(()=>{let e=0;return()=>(++e).toString()})(),A=(()=>{let e;return()=>{if(e===void 0&&typeof window<\"u\"){let t=matchMedia(\"(prefers-reduced-motion: reduce)\");e=!t||t.matches}return e}})();import{useEffect as H,useState as j,useRef as Q}from\"react\";var Y=20;var U=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Y)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return U(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},P=[],y={toasts:[],pausedAt:void 0},u=e=>{y=U(y,e),P.forEach(t=>{t(y)})},q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},D=(e={})=>{let[t,r]=j(y),s=Q(y);H(()=>(s.current!==y&&r(y),P.push(r),()=>{let o=P.indexOf(r);o>-1&&P.splice(o,1)}),[]);let a=t.toasts.map(o=>{var n,i,p;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((n=e[o.type])==null?void 0:n.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((i=e[o.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||q[o.type],style:{...e.style,...(p=e[o.type])==null?void 0:p.style,...o.style}}});return{...t,toasts:a}};var J=(e,t=\"blank\",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:\"status\",\"aria-live\":\"polite\"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||F()}),x=e=>(t,r)=>{let s=J(t,e,r);return u({type:2,toast:s}),s.id},c=(e,t)=>x(\"blank\")(e,t);c.error=x(\"error\");c.success=x(\"success\");c.loading=x(\"loading\");c.custom=x(\"custom\");c.dismiss=e=>{u({type:3,toastId:e})};c.remove=e=>u({type:4,toastId:e});c.promise=(e,t,r)=>{let s=c.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e==\"function\"&&(e=e()),e.then(a=>{let o=t.success?f(t.success,a):void 0;return o?c.success(o,{id:s,...r,...r==null?void 0:r.success}):c.dismiss(s),a}).catch(a=>{let o=t.error?f(t.error,a):void 0;o?c.error(o,{id:s,...r,...r==null?void 0:r.error}):c.dismiss(s)}),e};import{useEffect as $,useCallback as L}from\"react\";var K=(e,t)=>{u({type:1,toast:{id:e,height:t}})},X=()=>{u({type:5,time:Date.now()})},b=new Map,Z=1e3,ee=(e,t=Z)=>{if(b.has(e))return;let r=setTimeout(()=>{b.delete(e),u({type:4,toastId:e})},t);b.set(e,r)},O=e=>{let{toasts:t,pausedAt:r}=D(e);$(()=>{if(r)return;let o=Date.now(),n=t.map(i=>{if(i.duration===1/0)return;let p=(i.duration||0)+i.pauseDuration-(o-i.createdAt);if(p<0){i.visible&&c.dismiss(i.id);return}return setTimeout(()=>c.dismiss(i.id),p)});return()=>{n.forEach(i=>i&&clearTimeout(i))}},[t,r]);let s=L(()=>{r&&u({type:6,time:Date.now()})},[r]),a=L((o,n)=>{let{reverseOrder:i=!1,gutter:p=8,defaultPosition:d}=n||{},h=t.filter(m=>(m.position||d)===(o.position||d)&&m.height),v=h.findIndex(m=>m.id===o.id),S=h.filter((m,E)=>E<v&&m.visible).length;return h.filter(m=>m.visible).slice(...i?[S+1]:[0,S]).reduce((m,E)=>m+(E.height||0)+p,0)},[t]);return $(()=>{t.forEach(o=>{if(o.dismissed)ee(o.id,o.removeDelay);else{let n=b.get(o.id);n&&(clearTimeout(n),b.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:K,startPause:X,endPause:s,calculateOffset:a}}};import*as l from\"react\";import{styled as B,keyframes as z}from\"goober\";import*as g from\"react\";import{styled as w,keyframes as me}from\"goober\";import{styled as te,keyframes as I}from\"goober\";var oe=I`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}`,re=I`\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,se=I`\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}`,k=te(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#ff4b4b\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ${re} 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ${e=>e.secondary||\"#fff\"};\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ${se} 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n`;import{styled as ae,keyframes as ie}from\"goober\";var ne=ie`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`,V=ae(\"div\")`\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ${e=>e.secondary||\"#e0e0e0\"};\n  border-right-color: ${e=>e.primary||\"#616161\"};\n  animation: ${ne} 1s linear infinite;\n`;import{styled as ce,keyframes as N}from\"goober\";var pe=N`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}`,de=N`\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}`,_=ce(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#61d345\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ${de} 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${e=>e.secondary||\"#fff\"};\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n`;var ue=w(\"div\")`\n  position: absolute;\n`,le=w(\"div\")`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n`,fe=me`\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,Te=w(\"div\")`\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ${fe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n`,M=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t==\"string\"?g.createElement(Te,null,t):t:r===\"blank\"?null:g.createElement(le,null,g.createElement(V,{...s}),r!==\"loading\"&&g.createElement(ue,null,r===\"error\"?g.createElement(k,{...s}):g.createElement(_,{...s})))};var ye=e=>`\n0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ge=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}\n`,he=\"0%{opacity:0;} 100%{opacity:1;}\",xe=\"0%{opacity:1;} 100%{opacity:0;}\",be=B(\"div\")`\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n`,Se=B(\"div\")`\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n`,Ae=(e,t)=>{let s=e.includes(\"top\")?1:-1,[a,o]=A()?[he,xe]:[ye(s),ge(s)];return{animation:t?`${z(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${z(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},C=l.memo(({toast:e,position:t,style:r,children:s})=>{let a=e.height?Ae(e.position||t||\"top-center\",e.visible):{opacity:0},o=l.createElement(M,{toast:e}),n=l.createElement(Se,{...e.ariaProps},f(e.message,e));return l.createElement(be,{className:e.className,style:{...a,...r,...e.style}},typeof s==\"function\"?s({icon:o,message:n}):l.createElement(l.Fragment,null,o,n))});import{css as Pe,setup as Re}from\"goober\";import*as T from\"react\";Re(T.createElement);var ve=({id:e,className:t,style:r,onHeightUpdate:s,children:a})=>{let o=T.useCallback(n=>{if(n){let i=()=>{let p=n.getBoundingClientRect().height;s(e,p)};i(),new MutationObserver(i).observe(n,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return T.createElement(\"div\",{ref:o,className:t,style:r},a)},Ee=(e,t)=>{let r=e.includes(\"top\"),s=r?{top:0}:{bottom:0},a=e.includes(\"center\")?{justifyContent:\"center\"}:e.includes(\"right\")?{justifyContent:\"flex-end\"}:{};return{left:0,right:0,display:\"flex\",position:\"absolute\",transition:A()?void 0:\"all 230ms cubic-bezier(.21,1.02,.73,1)\",transform:`translateY(${t*(r?1:-1)}px)`,...s,...a}},De=Pe`\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n`,R=16,Oe=({reverseOrder:e,position:t=\"top-center\",toastOptions:r,gutter:s,children:a,containerStyle:o,containerClassName:n})=>{let{toasts:i,handlers:p}=O(r);return T.createElement(\"div\",{id:\"_rht_toaster\",style:{position:\"fixed\",zIndex:9999,top:R,left:R,right:R,bottom:R,pointerEvents:\"none\",...o},className:n,onMouseEnter:p.startPause,onMouseLeave:p.endPause},i.map(d=>{let h=d.position||t,v=p.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),S=Ee(h,v);return T.createElement(ve,{id:d.id,key:d.id,onHeightUpdate:p.updateHeight,className:d.visible?De:\"\",style:S},d.type===\"custom\"?f(d.message,d):a?a(d):T.createElement(C,{toast:d,position:h}))}))};var Vt=c;export{_ as CheckmarkIcon,k as ErrorIcon,V as LoaderIcon,C as ToastBar,M as ToastIcon,Oe as Toaster,Vt as default,f as resolveValue,c as toast,O as useToaster,D as useToasterStore};\n//# sourceMappingURL=index.mjs.map","import axios from 'axios'\r\nimport toast from 'react-hot-toast'\r\n\r\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api'\r\n\r\n// Create axios instance\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token')\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response.data\r\n  },\r\n  (error) => {\r\n    const message = error.response?.data?.message || error.message || 'An error occurred'\r\n    \r\n    // Handle specific error cases\r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('token')\r\n      window.location.href = '/login'\r\n      toast.error('Session expired. Please login again.')\r\n    } else if (error.response?.status === 403) {\r\n      toast.error('Access denied')\r\n    } else if (error.response?.status === 404) {\r\n      toast.error('Resource not found')\r\n    } else if (error.response?.status >= 500) {\r\n      toast.error('Server error. Please try again later.')\r\n    } else {\r\n      toast.error(message)\r\n    }\r\n\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default api","import api from './api'\r\n\r\nexport const authService = {\r\n  async login(credentials) {\r\n    const response = await api.post('/auth/login', credentials)\r\n    return response\r\n  },\r\n\r\n  async register(userData) {\r\n    const response = await api.post('/auth/register', userData)\r\n    return response\r\n  },\r\n\r\n  async logout() {\r\n    try {\r\n      await api.post('/auth/logout')\r\n    } catch (error) {\r\n      // Continue with logout even if server request fails\r\n      console.error('Logout request failed:', error)\r\n    }\r\n  },\r\n\r\n  async getCurrentUser() {\r\n    const response = await api.get('/auth/me')\r\n    return response\r\n  },\r\n\r\n  async updateProfile(profileData) {\r\n    const response = await api.put('/auth/profile', profileData)\r\n    return response\r\n  },\r\n\r\n  async changePassword(passwordData) {\r\n    const response = await api.put('/auth/password', passwordData)\r\n    return response\r\n  },\r\n\r\n  async forgotPassword(email) {\r\n    const response = await api.post('/auth/forgot-password', { email })\r\n    return response\r\n  },\r\n\r\n  async resetPassword(token, password) {\r\n    const response = await api.post('/auth/reset-password', { token, password })\r\n    return response\r\n  },\r\n\r\n  async verifyEmail(token) {\r\n    const response = await api.post('/auth/verify-email', { token })\r\n    return response\r\n  }\r\n}","import { createContext, useContext, useState, useEffect } from 'react'\r\nimport { authService } from '../services/authService'\r\n\r\nconst AuthContext = createContext({})\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext)\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider')\r\n  }\r\n  return context\r\n}\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const initializeAuth = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token')\r\n        if (token) {\r\n          const userData = await authService.getCurrentUser()\r\n          setUser(userData)\r\n        }\r\n      } catch (error) {\r\n        console.error('Auth initialization failed:', error)\r\n        localStorage.removeItem('token')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    initializeAuth()\r\n  }, [])\r\n\r\n  const login = async (credentials) => {\r\n    try {\r\n      const response = await authService.login(credentials)\r\n      const { user: userData, token } = response\r\n      \r\n      localStorage.setItem('token', token)\r\n      setUser(userData)\r\n      \r\n      return { success: true, user: userData }\r\n    } catch (error) {\r\n      console.error('Login failed:', error)\r\n      return { \r\n        success: false, \r\n        error: error.response?.data?.message || 'Login failed' \r\n      }\r\n    }\r\n  }\r\n\r\n  const register = async (userData) => {\r\n    try {\r\n      const response = await authService.register(userData)\r\n      const { user: newUser, token } = response\r\n      \r\n      localStorage.setItem('token', token)\r\n      setUser(newUser)\r\n      \r\n      return { success: true, user: newUser }\r\n    } catch (error) {\r\n      console.error('Registration failed:', error)\r\n      return { \r\n        success: false, \r\n        error: error.response?.data?.message || 'Registration failed' \r\n      }\r\n    }\r\n  }\r\n\r\n  const logout = async () => {\r\n    try {\r\n      await authService.logout()\r\n    } catch (error) {\r\n      console.error('Logout error:', error)\r\n    } finally {\r\n      localStorage.removeItem('token')\r\n      setUser(null)\r\n    }\r\n  }\r\n\r\n  const updateProfile = async (profileData) => {\r\n    try {\r\n      const updatedUser = await authService.updateProfile(profileData)\r\n      setUser(updatedUser)\r\n      return { success: true, user: updatedUser }\r\n    } catch (error) {\r\n      console.error('Profile update failed:', error)\r\n      return { \r\n        success: false, \r\n        error: error.response?.data?.message || 'Profile update failed' \r\n      }\r\n    }\r\n  }\r\n\r\n  const value = {\r\n    user,\r\n    loading,\r\n    login,\r\n    register,\r\n    logout,\r\n    updateProfile,\r\n    isAuthenticated: !!user\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE, } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET, } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* State.READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* State.READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* State.READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* State.READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload, };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\nexport const defaultBinaryType = \"arraybuffer\";\nexport function createCookieJar() { }\n","import { globalThisShim as globalThis } from \"./globals.node.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n/**\n * Generates a random 8-characters string.\n */\nexport function randomString() {\n    return (Date.now().toString(36).substring(3) +\n        Math.random().toString(36).substring(2, 5));\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { randomString } from \"../util.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this._polling = false;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this._polling || !this.writable) {\n            let total = 0;\n            if (this._polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    _poll() {\n        this._polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this._polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this._poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","import { Polling } from \"./polling.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globals.node.js\";\nimport { hasCORS } from \"../contrib/has-cors.js\";\nfunction empty() { }\nexport class BaseXHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(createRequest, uri, opts) {\n        super();\n        this.createRequest = createRequest;\n        installTimerFunctions(this, opts);\n        this._opts = opts;\n        this._method = opts.method || \"GET\";\n        this._uri = uri;\n        this._data = undefined !== opts.data ? opts.data : null;\n        this._create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _create() {\n        var _a;\n        const opts = pick(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this._opts.xd;\n        const xhr = (this._xhr = this.createRequest(opts));\n        try {\n            xhr.open(this._method, this._uri, true);\n            try {\n                if (this._opts.extraHeaders) {\n                    // @ts-ignore\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this._opts.extraHeaders) {\n                        if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this._method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this._opts.withCredentials;\n            }\n            if (this._opts.requestTimeout) {\n                xhr.timeout = this._opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n                    // @ts-ignore\n                    xhr.getResponseHeader(\"set-cookie\"));\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this._onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this._data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this._onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this._index = Request.requestsCount++;\n            Request.requests[this._index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    _onError(err) {\n        this.emitReserved(\"error\", err, this._xhr);\n        this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    _cleanup(fromError) {\n        if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n            return;\n        }\n        this._xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this._xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this._index];\n        }\n        this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    _onLoad() {\n        const data = this._xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this._cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this._cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\nconst hasXHR2 = (function () {\n    const xhr = newRequest({\n        xdomain: false,\n    });\n    return xhr && xhr.responseType !== null;\n})();\n/**\n * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n *\n * Usage: browser\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n */\nexport class XHR extends BaseXHR {\n    constructor(opts) {\n        super(opts);\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd }, this.opts);\n        return new Request(newRequest, this.uri(), opts);\n    }\n}\nfunction newRequest(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { pick, randomString } from \"../util.js\";\nimport { encodePacket } from \"engine.io-parser\";\nimport { globalThisShim as globalThis, nextTick } from \"../globals.node.js\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class BaseWS extends Transport {\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws = this.createSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    this.doWrite(packet, data);\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.onerror = () => { };\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\nconst WebSocketCtor = globalThis.WebSocket || globalThis.MozWebSocket;\n/**\n * WebSocket transport based on the built-in `WebSocket` object.\n *\n * Usage: browser, Node.js (since v21), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * @see https://caniuse.com/mdn-api_websocket\n * @see https://nodejs.org/api/globals.html#websocket\n */\nexport class WS extends BaseWS {\n    createSocket(uri, protocols, opts) {\n        return !isReactNative\n            ? protocols\n                ? new WebSocketCtor(uri, protocols)\n                : new WebSocketCtor(uri)\n            : new WebSocketCtor(uri, protocols, opts);\n    }\n    doWrite(_packet, data) {\n        this.ws.send(data);\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"../globals.node.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\n/**\n * WebTransport transport based on the built-in `WebTransport` object.\n *\n * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n * @see https://caniuse.com/webtransport\n */\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        try {\n            // @ts-ignore\n            this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this._transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this._transport.ready.then(() => {\n            this._transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this._writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this._writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this._writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","import { XHR } from \"./polling-xhr.node.js\";\nimport { WS } from \"./websocket.node.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: XHR,\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 8000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports as DEFAULT_TRANSPORTS } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { createCookieJar, defaultBinaryType, nextTick, } from \"./globals.node.js\";\nconst withEventListeners = typeof addEventListener === \"function\" &&\n    typeof removeEventListener === \"function\";\nconst OFFLINE_EVENT_LISTENERS = [];\nif (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", () => {\n        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());\n    }, false);\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n * successfully establishes the connection.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithoutUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithUpgrade\n * @see Socket\n */\nexport class SocketWithoutUpgrade extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n        this._pingInterval = -1;\n        this._pingTimeout = -1;\n        this._maxPayload = -1;\n        /**\n         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n         */\n        this._pingTimeoutTime = Infinity;\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            const parsedUri = parse(uri);\n            opts.hostname = parsedUri.host;\n            opts.secure =\n                parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n            opts.port = parsedUri.port;\n            if (parsedUri.query)\n                opts.query = parsedUri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = [];\n        this._transportsByName = {};\n        opts.transports.forEach((t) => {\n            const transportName = t.prototype.name;\n            this.transports.push(transportName);\n            this._transportsByName[transportName] = t;\n        });\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        if (withEventListeners) {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this._beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this._offlineEventListener = () => {\n                    this._onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);\n            }\n        }\n        if (this.opts.withCredentials) {\n            this._cookieJar = createCookieJar();\n        }\n        this._open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    _open() {\n        if (this.transports.length === 0) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        const transportName = this.opts.rememberUpgrade &&\n            SocketWithoutUpgrade.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1\n            ? \"websocket\"\n            : this.transports[0];\n        this.readyState = \"opening\";\n        const transport = this.createTransport(transportName);\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this._onDrain.bind(this))\n            .on(\"packet\", this._onPacket.bind(this))\n            .on(\"error\", this._onError.bind(this))\n            .on(\"close\", (reason) => this._onClose(\"transport close\", reason));\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        SocketWithoutUpgrade.priorWebsocketSuccess =\n            \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    _onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this._sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    this._resetPingTimeout();\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this._onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this._pingInterval = data.pingInterval;\n        this._pingTimeout = data.pingTimeout;\n        this._maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    _resetPingTimeout() {\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        const delay = this._pingInterval + this._pingTimeout;\n        this._pingTimeoutTime = Date.now() + delay;\n        this._pingTimeoutTimer = this.setTimeoutFn(() => {\n            this._onClose(\"ping timeout\");\n        }, delay);\n        if (this.opts.autoUnref) {\n            this._pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    _onDrain() {\n        this.writeBuffer.splice(0, this._prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this._prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this._getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this._prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    _getWritablePackets() {\n        const shouldCheckPayloadSize = this._maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this._maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */ _hasPingExpired() {\n        if (!this._pingTimeoutTime)\n            return true;\n        const hasExpired = Date.now() > this._pingTimeoutTime;\n        if (hasExpired) {\n            this._pingTimeoutTime = 0;\n            nextTick(() => {\n                this._onClose(\"ping timeout\");\n            }, this.setTimeoutFn);\n        }\n        return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    send(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    _sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this._onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    _onError(err) {\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        if (this.opts.tryAllTransports &&\n            this.transports.length > 1 &&\n            this.readyState === \"opening\") {\n            this.transports.shift();\n            return this._open();\n        }\n        this.emitReserved(\"error\", err);\n        this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    _onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this._pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (withEventListeners) {\n                if (this._beforeunloadEventListener) {\n                    removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n                }\n                if (this._offlineEventListener) {\n                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n                    if (i !== -1) {\n                        OFFLINE_EVENT_LISTENERS.splice(i, 1);\n                    }\n                }\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this._prevBufferLen = 0;\n        }\n    }\n}\nSocketWithoutUpgrade.protocol = protocol;\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see Socket\n */\nexport class SocketWithUpgrade extends SocketWithoutUpgrade {\n    constructor() {\n        super(...arguments);\n        this._upgrades = [];\n    }\n    onOpen() {\n        super.onOpen();\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            for (let i = 0; i < this._upgrades.length; i++) {\n                this._probe(this._upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    _probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    SocketWithoutUpgrade.priorWebsocketSuccess =\n                        \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this._upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    onHandshake(data) {\n        this._upgrades = this._filterUpgrades(data.upgrades);\n        super.onHandshake(data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    _filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        for (let i = 0; i < upgrades.length; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * @example\n * import { Socket } from \"engine.io-client\";\n *\n * const socket = new Socket();\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see SocketWithUpgrade\n */\nexport class Socket extends SocketWithUpgrade {\n    constructor(uri, opts = {}) {\n        const o = typeof uri === \"object\" ? uri : opts;\n        if (!o.transports ||\n            (o.transports && typeof o.transports[0] === \"string\")) {\n            o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"])\n                .map((transportName) => DEFAULT_TRANSPORTS[transportName])\n                .filter((t) => !!t);\n        }\n        super(uri, o);\n    }\n}\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n","import { createContext, useContext, useEffect, useState } from 'react'\r\nimport { io } from 'socket.io-client'\r\nimport { useAuth } from './AuthContext'\r\nimport toast from 'react-hot-toast'\r\n\r\nconst SocketContext = createContext({})\r\n\r\nexport const useSocket = () => {\r\n  const context = useContext(SocketContext)\r\n  if (!context) {\r\n    throw new Error('useSocket must be used within a SocketProvider')\r\n  }\r\n  return context\r\n}\r\n\r\nexport const SocketProvider = ({ children }) => {\r\n  const [socket, setSocket] = useState(null)\r\n  const [onlineUsers, setOnlineUsers] = useState([])\r\n  const [notifications, setNotifications] = useState([])\r\n  const { user } = useAuth()\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const socketInstance = io(import.meta.env.VITE_SOCKET_URL || 'http://localhost:5000', {\r\n        auth: {\r\n          token: localStorage.getItem('token')\r\n        }\r\n      })\r\n\r\n      setSocket(socketInstance)\r\n\r\n      // Listen for connection\r\n      socketInstance.on('connect', () => {\r\n        console.log('Connected to server')\r\n      })\r\n\r\n      // Listen for online users\r\n      socketInstance.on('online-users', (users) => {\r\n        setOnlineUsers(users)\r\n      })\r\n\r\n      // Listen for notifications\r\n      socketInstance.on('notification', (notification) => {\r\n        setNotifications(prev => [notification, ...prev])\r\n        \r\n        // Show toast notification\r\n        toast.success(notification.message, {\r\n          duration: 4000,\r\n          icon: getNotificationIcon(notification.type)\r\n        })\r\n      })\r\n\r\n      // Listen for new messages\r\n      socketInstance.on('new-message', (message) => {\r\n        // Handle new message (will be used in Messages component)\r\n        console.log('New message received:', message)\r\n      })\r\n\r\n      // Listen for post interactions\r\n      socketInstance.on('post-liked', (data) => {\r\n        if (data.postAuthorId === user._id) {\r\n          const notification = {\r\n            type: 'like',\r\n            message: `${data.likerName} liked your post`,\r\n            createdAt: new Date()\r\n          }\r\n          setNotifications(prev => [notification, ...prev])\r\n        }\r\n      })\r\n\r\n      socketInstance.on('post-commented', (data) => {\r\n        if (data.postAuthorId === user._id) {\r\n          const notification = {\r\n            type: 'comment',\r\n            message: `${data.commenterName} commented on your post`,\r\n            createdAt: new Date()\r\n          }\r\n          setNotifications(prev => [notification, ...prev])\r\n        }\r\n      })\r\n\r\n      // Listen for follow notifications\r\n      socketInstance.on('new-follower', (data) => {\r\n        if (data.followedUserId === user._id) {\r\n          const notification = {\r\n            type: 'follow',\r\n            message: `${data.followerName} started following you`,\r\n            createdAt: new Date()\r\n          }\r\n          setNotifications(prev => [notification, ...prev])\r\n        }\r\n      })\r\n\r\n      return () => {\r\n        socketInstance.close()\r\n        setSocket(null)\r\n      }\r\n    }\r\n  }, [user])\r\n\r\n  const getNotificationIcon = (type) => {\r\n    switch (type) {\r\n      case 'like': return '❤️'\r\n      case 'comment': return '💬'\r\n      case 'follow': return '👤'\r\n      case 'message': return '📩'\r\n      default: return '🔔'\r\n    }\r\n  }\r\n\r\n  const emitLikePost = (postId, postAuthorId) => {\r\n    if (socket) {\r\n      socket.emit('like-post', {\r\n        postId,\r\n        postAuthorId,\r\n        likerId: user._id,\r\n        likerName: user.name\r\n      })\r\n    }\r\n  }\r\n\r\n  const emitCommentPost = (postId, postAuthorId, comment) => {\r\n    if (socket) {\r\n      socket.emit('comment-post', {\r\n        postId,\r\n        postAuthorId,\r\n        commenterId: user._id,\r\n        commenterName: user.name,\r\n        comment\r\n      })\r\n    }\r\n  }\r\n\r\n  const emitFollowUser = (followedUserId) => {\r\n    if (socket) {\r\n      socket.emit('follow-user', {\r\n        followedUserId,\r\n        followerId: user._id,\r\n        followerName: user.name\r\n      })\r\n    }\r\n  }\r\n\r\n  const sendMessage = (receiverId, message) => {\r\n    if (socket) {\r\n      socket.emit('send-message', {\r\n        receiverId,\r\n        senderId: user._id,\r\n        message,\r\n        timestamp: new Date()\r\n      })\r\n    }\r\n  }\r\n\r\n  const markNotificationsAsRead = () => {\r\n    setNotifications(prev => prev.map(notif => ({ ...notif, read: true })))\r\n  }\r\n\r\n  const value = {\r\n    socket,\r\n    onlineUsers,\r\n    notifications,\r\n    emitLikePost,\r\n    emitCommentPost,\r\n    emitFollowUser,\r\n    sendMessage,\r\n    markNotificationsAsRead,\r\n    unreadNotifications: notifications.filter(n => !n.read).length\r\n  }\r\n\r\n  return (\r\n    <SocketContext.Provider value={value}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  )\r\n}","import { Link, useLocation } from 'react-router-dom'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport { useSocket } from '../../context/SocketContext'\r\nimport {\r\n  Home,\r\n  Search,\r\n  MessageCircle,\r\n  Bell,\r\n  User,\r\n  Video,\r\n  LogOut,\r\n  Settings\r\n} from 'lucide-react'\r\n\r\nconst Sidebar = () => {\r\n  const location = useLocation()\r\n  const { user, logout } = useAuth()\r\n  const { unreadNotifications } = useSocket()\r\n\r\n  const navItems = [\r\n    { path: '/', icon: Home, label: 'Home' },\r\n    { path: '/explore', icon: Search, label: 'Explore' },\r\n    { path: '/messages', icon: MessageCircle, label: 'Messages' },\r\n    { \r\n      path: '/notifications', \r\n      icon: Bell, \r\n      label: 'Notifications',\r\n      badge: unreadNotifications > 0 ? unreadNotifications : null\r\n    },\r\n    { path: '/stream', icon: Video, label: 'Live Stream' },\r\n    { path: '/profile', icon: User, label: 'Profile' }\r\n  ]\r\n\r\n  const isActive = (path) => {\r\n    if (path === '/') return location.pathname === path\r\n    return location.pathname.startsWith(path)\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    logout()\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200 flex flex-col\">\r\n      {/* Logo */}\r\n      <div className=\"p-6\">\r\n        <Link to=\"/\" className=\"text-2xl font-bold gradient-text\">\r\n          SocialApp\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"flex-1 px-3\">\r\n        {navItems.map((item) => (\r\n          <Link\r\n            key={item.path}\r\n            to={item.path}\r\n            className={`flex items-center px-3 py-3 mb-2 rounded-lg transition-colors duration-200 relative ${\r\n              isActive(item.path)\r\n                ? 'bg-primary-50 text-primary-600'\r\n                : 'text-gray-700 hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            <item.icon className=\"h-6 w-6 mr-3\" />\r\n            <span className=\"font-medium\">{item.label}</span>\r\n            {item.badge && (\r\n              <span className=\"ml-auto bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\r\n                {item.badge > 99 ? '99+' : item.badge}\r\n              </span>\r\n            )}\r\n          </Link>\r\n        ))}\r\n      </nav>\r\n\r\n      {/* User Profile & Settings */}\r\n      <div className=\"p-3 border-t border-gray-200\">\r\n        <div className=\"flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors duration-200\">\r\n          <img\r\n            src={user?.avatar || `https://ui-avatars.com/api/?name=${user?.name}&background=3b82f6&color=fff`}\r\n            alt={user?.name}\r\n            className=\"h-10 w-10 rounded-full mr-3\"\r\n          />\r\n          <div className=\"flex-1\">\r\n            <p className=\"text-sm font-medium text-gray-900\">{user?.name}</p>\r\n            <p className=\"text-xs text-gray-500\">@{user?.username}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between mt-3\">\r\n          <button className=\"flex items-center text-gray-600 hover:text-gray-900 transition-colors duration-200\">\r\n            <Settings className=\"h-5 w-5\" />\r\n          </button>\r\n          <button \r\n            onClick={handleLogout}\r\n            className=\"flex items-center text-red-600 hover:text-red-700 transition-colors duration-200\"\r\n          >\r\n            <LogOut className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sidebar","import { Link, useLocation } from 'react-router-dom'\r\nimport { useSocket } from '../../context/SocketContext'\r\nimport {\r\n  Home,\r\n  Search,\r\n  MessageCircle,\r\n  Bell,\r\n  User\r\n} from 'lucide-react'\r\n\r\nconst BottomNav = () => {\r\n  const location = useLocation()\r\n  const { unreadNotifications } = useSocket()\r\n\r\n  const navItems = [\r\n    { path: '/', icon: Home, label: 'Home' },\r\n    { path: '/explore', icon: Search, label: 'Explore' },\r\n    { path: '/messages', icon: MessageCircle, label: 'Messages' },\r\n    { \r\n      path: '/notifications', \r\n      icon: Bell, \r\n      label: 'Notifications',\r\n      badge: unreadNotifications > 0\r\n    },\r\n    { path: '/profile', icon: User, label: 'Profile' }\r\n  ]\r\n\r\n  const isActive = (path) => {\r\n    if (path === '/') return location.pathname === path\r\n    return location.pathname.startsWith(path)\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2\">\r\n      <div className=\"flex items-center justify-around\">\r\n        {navItems.map((item) => (\r\n          <Link\r\n            key={item.path}\r\n            to={item.path}\r\n            className={`flex flex-col items-center p-2 relative ${\r\n              isActive(item.path)\r\n                ? 'text-primary-600'\r\n                : 'text-gray-500'\r\n            }`}\r\n          >\r\n            <div className=\"relative\">\r\n              <item.icon className=\"h-6 w-6\" />\r\n              {item.badge && (\r\n                <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center\">\r\n                  {unreadNotifications > 9 ? '9+' : unreadNotifications}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <span className=\"text-xs mt-1\">{item.label}</span>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BottomNav","import { Link } from 'react-router-dom'\r\nimport { Bell, MessageCircle } from 'lucide-react'\r\nimport { useSocket } from '../../context/SocketContext'\r\n\r\nconst MobileHeader = () => {\r\n  const { unreadNotifications } = useSocket()\r\n\r\n  return (\r\n    <div className=\"fixed top-0 left-0 right-0 bg-white border-b border-gray-200 px-4 py-3 z-50\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <Link to=\"/\" className=\"text-xl font-bold gradient-text\">\r\n          SocialApp\r\n        </Link>\r\n        \r\n        <div className=\"flex items-center space-x-4\">\r\n          <Link \r\n            to=\"/notifications\" \r\n            className=\"relative text-gray-600 hover:text-gray-900\"\r\n          >\r\n            <Bell className=\"h-6 w-6\" />\r\n            {unreadNotifications > 0 && (\r\n              <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center\">\r\n                {unreadNotifications > 9 ? '9+' : unreadNotifications}\r\n              </span>\r\n            )}\r\n          </Link>\r\n          \r\n          <Link \r\n            to=\"/messages\" \r\n            className=\"text-gray-600 hover:text-gray-900\"\r\n          >\r\n            <MessageCircle className=\"h-6 w-6\" />\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MobileHeader","import { Outlet } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport Sidebar from './Sidebar'\r\nimport BottomNav from './BottomNav'\r\nimport MobileHeader from './MobileHeader'\r\n\r\nconst Layout = () => {\r\n  const [isMobile, setIsMobile] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const checkDevice = () => {\r\n      setIsMobile(window.innerWidth < 768)\r\n    }\r\n\r\n    checkDevice()\r\n    window.addEventListener('resize', checkDevice)\r\n    return () => window.removeEventListener('resize', checkDevice)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Mobile Header */}\r\n      {isMobile && <MobileHeader />}\r\n      \r\n      <div className=\"flex\">\r\n        {/* Desktop Sidebar */}\r\n        {!isMobile && <Sidebar />}\r\n        \r\n        {/* Main Content */}\r\n        <main className={`flex-1 ${isMobile ? 'pb-16 pt-16' : 'ml-64'} min-h-screen`}>\r\n          <div className=\"max-w-2xl mx-auto px-4 py-6\">\r\n            <Outlet />\r\n          </div>\r\n        </main>\r\n      </div>\r\n      \r\n      {/* Mobile Bottom Navigation */}\r\n      {isMobile && <BottomNav />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout","const LoadingSpinner = ({ size = 'medium', className = '' }) => {\r\n  const sizeClasses = {\r\n    small: 'h-4 w-4',\r\n    medium: 'h-8 w-8',\r\n    large: 'h-12 w-12'\r\n  }\r\n\r\n  return (\r\n    <div className={`flex items-center justify-center ${className}`}>\r\n      <div className={`loading-spinner ${sizeClasses[size]}`}></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoadingSpinner","import { Navigate } from 'react-router-dom'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport LoadingSpinner from '../ui/LoadingSpinner'\r\n\r\nconst ProtectedRoute = ({ children }) => {\r\n  const { user, loading } = useAuth()\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />\r\n  }\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />\r\n  }\r\n\r\n  return children\r\n}\r\n\r\nexport default ProtectedRoute","import api from './api'\r\n\r\nexport const postService = {\r\n  async getPosts(page = 1, limit = 10) {\r\n    const response = await api.get(`/posts?page=${page}&limit=${limit}`)\r\n    return response\r\n  },\r\n\r\n  async getPost(postId) {\r\n    const response = await api.get(`/posts/${postId}`)\r\n    return response\r\n  },\r\n\r\n  async createPost(postData) {\r\n    const response = await api.post('/posts', postData)\r\n    return response\r\n  },\r\n\r\n  async updatePost(postId, postData) {\r\n    const response = await api.put(`/posts/${postId}`, postData)\r\n    return response\r\n  },\r\n\r\n  async deletePost(postId) {\r\n    const response = await api.delete(`/posts/${postId}`)\r\n    return response\r\n  },\r\n\r\n  async likePost(postId) {\r\n    const response = await api.post(`/posts/${postId}/like`)\r\n    return response\r\n  },\r\n\r\n  async unlikePost(postId) {\r\n    const response = await api.delete(`/posts/${postId}/like`)\r\n    return response\r\n  },\r\n\r\n  async getPostLikes(postId) {\r\n    const response = await api.get(`/posts/${postId}/likes`)\r\n    return response\r\n  },\r\n\r\n  async addComment(postId, commentData) {\r\n    const response = await api.post(`/posts/${postId}/comments`, commentData)\r\n    return response\r\n  },\r\n\r\n  async updateComment(postId, commentId, commentData) {\r\n    const response = await api.put(`/posts/${postId}/comments/${commentId}`, commentData)\r\n    return response\r\n  },\r\n\r\n  async deleteComment(postId, commentId) {\r\n    const response = await api.delete(`/posts/${postId}/comments/${commentId}`)\r\n    return response\r\n  },\r\n\r\n  async getComments(postId, page = 1, limit = 10) {\r\n    const response = await api.get(`/posts/${postId}/comments?page=${page}&limit=${limit}`)\r\n    return response\r\n  },\r\n\r\n  async getUserPosts(userId, page = 1, limit = 10) {\r\n    const response = await api.get(`/posts/user/${userId}?page=${page}&limit=${limit}`)\r\n    return response\r\n  },\r\n\r\n  async getFeedPosts(page = 1, limit = 10) {\r\n    const response = await api.get(`/posts/feed?page=${page}&limit=${limit}`)\r\n    return response\r\n  },\r\n\r\n  async searchPosts(query, page = 1, limit = 10) {\r\n    const response = await api.get(`/posts/search?q=${encodeURIComponent(query)}&page=${page}&limit=${limit}`)\r\n    return response\r\n  }\r\n}","import { useState } from 'react'\r\nimport { postService } from '../../services/postService'\r\nimport { X, Image, Video } from 'lucide-react'\r\nimport toast from 'react-hot-toast'\r\n\r\nconst CreatePost = ({ onClose, onPostCreated }) => {\r\n  const [content, setContent] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    \r\n    if (!content.trim()) {\r\n      toast.error('Please write something!')\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n    try {\r\n      await postService.createPost({ content: content.trim() })\r\n      toast.success('Post created successfully!')\r\n      onPostCreated()\r\n    } catch (error) {\r\n      toast.error('Failed to create post')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n      <div className=\"bg-white rounded-2xl max-w-lg w-full p-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h2 className=\"text-lg font-semibold\">Create Post</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-1 hover:bg-gray-100 rounded-full transition-colors\"\r\n          >\r\n            <X className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit}>\r\n          <textarea\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            placeholder=\"What's happening?\"\r\n            className=\"w-full h-32 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none\"\r\n            maxLength={280}\r\n          />\r\n\r\n          <div className=\"flex items-center justify-between mt-4\">\r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors\"\r\n              >\r\n                <Image className=\"h-5 w-5\" />\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors\"\r\n              >\r\n                <Video className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-3\">\r\n              <span className={`text-sm ${content.length > 250 ? 'text-red-500' : 'text-gray-500'}`}>\r\n                {content.length}/280\r\n              </span>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading || !content.trim()}\r\n                className=\"btn-primary disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {loading ? 'Posting...' : 'Post'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreatePost","import { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { formatDistanceToNow } from 'date-fns'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport { useSocket } from '../../context/SocketContext'\r\nimport { postService } from '../../services/postService'\r\nimport { Heart, MessageCircle, Share, MoreHorizontal } from 'lucide-react'\r\nimport toast from 'react-hot-toast'\r\n\r\nconst PostCard = ({ post, onUpdate }) => {\r\n  const { user } = useAuth()\r\n  const { emitLikePost, emitCommentPost } = useSocket()\r\n  const [isLiked, setIsLiked] = useState(post.likes?.includes(user._id))\r\n  const [likesCount, setLikesCount] = useState(post.likesCount || 0)\r\n  const [showComments, setShowComments] = useState(false)\r\n  const [comment, setComment] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const handleLike = async () => {\r\n    try {\r\n      if (isLiked) {\r\n        await postService.unlikePost(post._id)\r\n        setIsLiked(false)\r\n        setLikesCount(prev => prev - 1)\r\n      } else {\r\n        await postService.likePost(post._id)\r\n        setIsLiked(true)\r\n        setLikesCount(prev => prev + 1)\r\n        emitLikePost(post._id, post.author._id)\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to update like')\r\n    }\r\n  }\r\n\r\n  const handleComment = async (e) => {\r\n    e.preventDefault()\r\n    if (!comment.trim()) return\r\n\r\n    setLoading(true)\r\n    try {\r\n      await postService.addComment(post._id, { content: comment.trim() })\r\n      emitCommentPost(post._id, post.author._id, comment.trim())\r\n      setComment('')\r\n      onUpdate?.()\r\n      toast.success('Comment added!')\r\n    } catch (error) {\r\n      toast.error('Failed to add comment')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card animate-fade-in\">\r\n      {/* Post Header */}\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <Link \r\n          to={`/profile/${post.author.username}`}\r\n          className=\"flex items-center space-x-3 hover:bg-gray-50 -m-2 p-2 rounded-lg transition-colors\"\r\n        >\r\n          <img\r\n            src={post.author.avatar || `https://ui-avatars.com/api/?name=${post.author.name}&background=3b82f6&color=fff`}\r\n            alt={post.author.name}\r\n            className=\"h-10 w-10 rounded-full\"\r\n          />\r\n          <div>\r\n            <p className=\"font-medium text-gray-900\">{post.author.name}</p>\r\n            <div className=\"flex items-center text-sm text-gray-500 space-x-1\">\r\n              <span>@{post.author.username}</span>\r\n              <span>·</span>\r\n              <span>{formatDistanceToNow(new Date(post.createdAt), { addSuffix: true })}</span>\r\n            </div>\r\n          </div>\r\n        </Link>\r\n\r\n        <button className=\"p-1 hover:bg-gray-100 rounded-full transition-colors\">\r\n          <MoreHorizontal className=\"h-5 w-5 text-gray-500\" />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Post Content */}\r\n      <div className=\"mb-4\">\r\n        <p className=\"text-gray-900 leading-relaxed\">{post.content}</p>\r\n        \r\n        {post.image && (\r\n          <div className=\"mt-3\">\r\n            <img\r\n              src={post.image}\r\n              alt=\"Post content\"\r\n              className=\"w-full rounded-lg\"\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Post Actions */}\r\n      <div className=\"flex items-center justify-between pt-4 border-t border-gray-200\">\r\n        <button\r\n          onClick={handleLike}\r\n          className={`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${\r\n            isLiked\r\n              ? 'text-red-600 bg-red-50 hover:bg-red-100'\r\n              : 'text-gray-600 hover:bg-gray-100'\r\n          }`}\r\n        >\r\n          <Heart className={`h-5 w-5 ${isLiked ? 'fill-current' : ''}`} />\r\n          <span className=\"text-sm font-medium\">{likesCount}</span>\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => setShowComments(!showComments)}\r\n          className=\"flex items-center space-x-2 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors\"\r\n        >\r\n          <MessageCircle className=\"h-5 w-5\" />\r\n          <span className=\"text-sm font-medium\">{post.commentsCount || 0}</span>\r\n        </button>\r\n\r\n        <button className=\"flex items-center space-x-2 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors\">\r\n          <Share className=\"h-5 w-5\" />\r\n          <span className=\"text-sm font-medium\">Share</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Comments Section */}\r\n      {showComments && (\r\n        <div className=\"mt-4 pt-4 border-t border-gray-200 space-y-4\">\r\n          {/* Add Comment Form */}\r\n          <form onSubmit={handleComment} className=\"flex space-x-3\">\r\n            <img\r\n              src={user.avatar || `https://ui-avatars.com/api/?name=${user.name}&background=3b82f6&color=fff`}\r\n              alt={user.name}\r\n              className=\"h-8 w-8 rounded-full\"\r\n            />\r\n            <div className=\"flex-1\">\r\n              <input\r\n                type=\"text\"\r\n                value={comment}\r\n                onChange={(e) => setComment(e.target.value)}\r\n                placeholder=\"Write a comment...\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none\"\r\n              />\r\n              {comment.trim() && (\r\n                <div className=\"flex justify-end mt-2\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    className=\"btn-primary text-sm disabled:opacity-50\"\r\n                  >\r\n                    {loading ? 'Posting...' : 'Post'}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </form>\r\n\r\n          {/* Comments List */}\r\n          <div className=\"space-y-3\">\r\n            {post.comments?.map((comment) => (\r\n              <div key={comment._id} className=\"flex space-x-3\">\r\n                <img\r\n                  src={comment.author.avatar || `https://ui-avatars.com/api/?name=${comment.author.name}&background=3b82f6&color=fff`}\r\n                  alt={comment.author.name}\r\n                  className=\"h-8 w-8 rounded-full\"\r\n                />\r\n                <div className=\"flex-1\">\r\n                  <div className=\"bg-gray-50 rounded-lg px-3 py-2\">\r\n                    <p className=\"text-sm font-medium text-gray-900\">{comment.author.name}</p>\r\n                    <p className=\"text-sm text-gray-700\">{comment.content}</p>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    {formatDistanceToNow(new Date(comment.createdAt), { addSuffix: true })}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostCard","import { useState, useEffect } from 'react'\r\nimport { useQuery } from 'react-query'\r\nimport { postService } from '../services/postService'\r\nimport CreatePost from '../components/posts/CreatePost'\r\nimport PostCard from '../components/posts/PostCard'\r\nimport LoadingSpinner from '../components/ui/LoadingSpinner'\r\nimport { PlusCircle } from 'lucide-react'\r\n\r\nconst Home = () => {\r\n  const [showCreatePost, setShowCreatePost] = useState(false)\r\n  const [page, setPage] = useState(1)\r\n\r\n  const { \r\n    data: posts, \r\n    isLoading, \r\n    error, \r\n    refetch \r\n  } = useQuery(\r\n    ['feed-posts', page], \r\n    () => postService.getFeedPosts(page),\r\n    {\r\n      keepPreviousData: true,\r\n      staleTime: 30000, // 30 seconds\r\n    }\r\n  )\r\n\r\n  const handlePostCreated = () => {\r\n    setShowCreatePost(false)\r\n    refetch()\r\n  }\r\n\r\n  if (isLoading && !posts) {\r\n    return <LoadingSpinner className=\"mt-8\" />\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center mt-8\">\r\n        <p className=\"text-red-600\">Failed to load posts. Please try again.</p>\r\n        <button \r\n          onClick={refetch}\r\n          className=\"btn-primary mt-4\"\r\n        >\r\n          Retry\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Create Post Button */}\r\n      <div className=\"card\">\r\n        <button\r\n          onClick={() => setShowCreatePost(true)}\r\n          className=\"w-full flex items-center justify-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors duration-200 py-4\"\r\n        >\r\n          <PlusCircle className=\"h-5 w-5\" />\r\n          <span>What's on your mind?</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Create Post Modal */}\r\n      {showCreatePost && (\r\n        <CreatePost\r\n          onClose={() => setShowCreatePost(false)}\r\n          onPostCreated={handlePostCreated}\r\n        />\r\n      )}\r\n\r\n      {/* Posts Feed */}\r\n      <div className=\"space-y-6\">\r\n        {posts?.posts?.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No posts yet</h3>\r\n            <p className=\"text-gray-600\">Follow some users to see their posts in your feed.</p>\r\n          </div>\r\n        ) : (\r\n          posts?.posts?.map((post) => (\r\n            <PostCard \r\n              key={post._id} \r\n              post={post} \r\n              onUpdate={refetch}\r\n            />\r\n          ))\r\n        )}\r\n\r\n        {/* Load More Button */}\r\n        {posts?.hasMore && (\r\n          <div className=\"text-center\">\r\n            <button\r\n              onClick={() => setPage(prev => prev + 1)}\r\n              disabled={isLoading}\r\n              className=\"btn-secondary\"\r\n            >\r\n              {isLoading ? 'Loading...' : 'Load More'}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home","import { useState } from 'react'\r\nimport { Link, Navigate } from 'react-router-dom'\r\nimport { useAuth } from '../context/AuthContext'\r\nimport { Eye, EyeOff } from 'lucide-react'\r\nimport toast from 'react-hot-toast'\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  })\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const { login, user } = useAuth()\r\n\r\n  if (user) {\r\n    return <Navigate to=\"/\" replace />\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n\r\n    try {\r\n      const result = await login(formData)\r\n      if (result.success) {\r\n        toast.success('Welcome back!')\r\n      } else {\r\n        toast.error(result.error)\r\n      }\r\n    } catch (error) {\r\n      toast.error('Login failed. Please try again.')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center p-4\">\r\n      <div className=\"max-w-md w-full\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-8\">\r\n          {/* Header */}\r\n          <div className=\"text-center mb-8\">\r\n            <h1 className=\"text-3xl font-bold gradient-text mb-2\">Welcome Back</h1>\r\n            <p className=\"text-gray-600\">Sign in to your account</p>\r\n          </div>\r\n\r\n          {/* Login Form */}\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Email Address\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"input-field\"\r\n                placeholder=\"Enter your email\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Password\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  value={formData.password}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"input-field pr-12\"\r\n                  placeholder=\"Enter your password\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {loading ? 'Signing in...' : 'Sign In'}\r\n            </button>\r\n          </form>\r\n\r\n          {/* Footer */}\r\n          <div className=\"mt-8 text-center\">\r\n            <p className=\"text-gray-600\">\r\n              Don't have an account?{' '}\r\n              <Link to=\"/register\" className=\"text-primary-600 hover:text-primary-700 font-medium\">\r\n                Sign up\r\n              </Link>\r\n            </p>\r\n          </div>\r\n\r\n          {/* Demo Credentials */}\r\n          <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n            <p className=\"text-sm text-gray-600 text-center\">\r\n              <strong>Demo credentials:</strong><br />\r\n              Email: demo@example.com<br />\r\n              Password: demo123\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","import { useState } from 'react'\r\nimport { Link, Navigate } from 'react-router-dom'\r\nimport { useAuth } from '../context/AuthContext'\r\nimport { Eye, EyeOff } from 'lucide-react'\r\nimport toast from 'react-hot-toast'\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: ''\r\n  })\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const { register, user } = useAuth()\r\n\r\n  if (user) {\r\n    return <Navigate to=\"/\" replace />\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n\r\n    if (formData.password !== formData.confirmPassword) {\r\n      toast.error('Passwords do not match')\r\n      return\r\n    }\r\n\r\n    if (formData.password.length < 6) {\r\n      toast.error('Password must be at least 6 characters')\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n\r\n    try {\r\n      const result = await register({\r\n        name: formData.name,\r\n        username: formData.username,\r\n        email: formData.email,\r\n        password: formData.password\r\n      })\r\n\r\n      if (result.success) {\r\n        toast.success('Account created successfully!')\r\n      } else {\r\n        toast.error(result.error)\r\n      }\r\n    } catch (error) {\r\n      toast.error('Registration failed. Please try again.')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center p-4\">\r\n      <div className=\"max-w-md w-full\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-8\">\r\n          {/* Header */}\r\n          <div className=\"text-center mb-8\">\r\n            <h1 className=\"text-3xl font-bold gradient-text mb-2\">Create Account</h1>\r\n            <p className=\"text-gray-600\">Join our community today</p>\r\n          </div>\r\n\r\n          {/* Registration Form */}\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <div>\r\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Full Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"name\"\r\n                name=\"name\"\r\n                value={formData.name}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"input-field\"\r\n                placeholder=\"Enter your full name\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Username\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"username\"\r\n                name=\"username\"\r\n                value={formData.username}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"input-field\"\r\n                placeholder=\"Choose a username\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Email Address\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"input-field\"\r\n                placeholder=\"Enter your email\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Password\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  value={formData.password}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"input-field pr-12\"\r\n                  placeholder=\"Create a password\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Confirm Password\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type={showConfirmPassword ? 'text' : 'password'}\r\n                  id=\"confirmPassword\"\r\n                  name=\"confirmPassword\"\r\n                  value={formData.confirmPassword}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"input-field pr-12\"\r\n                  placeholder=\"Confirm your password\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  {showConfirmPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {loading ? 'Creating Account...' : 'Create Account'}\r\n            </button>\r\n          </form>\r\n\r\n          {/* Footer */}\r\n          <div className=\"mt-8 text-center\">\r\n            <p className=\"text-gray-600\">\r\n              Already have an account?{' '}\r\n              <Link to=\"/login\" className=\"text-primary-600 hover:text-primary-700 font-medium\">\r\n                Sign in\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register","import api from './api'\r\n\r\nexport const userService = {\r\n  async getUsers(page = 1, limit = 10) {\r\n    const response = await api.get(`/users?page=${page}&limit=${limit}`)\r\n    return response\r\n  },\r\n\r\n  async getUser(userId) {\r\n    const response = await api.get(`/users/${userId}`)\r\n    return response\r\n  },\r\n\r\n  async getUserByUsername(username) {\r\n    const response = await api.get(`/users/username/${username}`)\r\n    return response\r\n  },\r\n\r\n  async updateUser(userId, userData) {\r\n    const response = await api.put(`/users/${userId}`, userData)\r\n    return response\r\n  },\r\n\r\n  async followUser(userId) {\r\n    const response = await api.post(`/users/${userId}/follow`)\r\n    return response\r\n  },\r\n\r\n  async unfollowUser(userId) {\r\n    const response = await api.delete(`/users/${userId}/follow`)\r\n    return response\r\n  },\r\n\r\n  async getFollowers(userId, page = 1, limit = 10) {\r\n    const response = await api.get(`/users/${userId}/followers?page=${page}&limit=${limit}`)\r\n    return response\r\n  },\r\n\r\n  async getFollowing(userId, page = 1, limit = 10) {\r\n    const response = await api.get(`/users/${userId}/following?page=${page}&limit=${limit}`)\r\n    return response\r\n  },\r\n\r\n  async searchUsers(query, page = 1, limit = 10) {\r\n    const response = await api.get(`/users/search?q=${encodeURIComponent(query)}&page=${page}&limit=${limit}`)\r\n    return response\r\n  },\r\n\r\n  async getSuggestedUsers(limit = 5) {\r\n    const response = await api.get(`/users/suggestions?limit=${limit}`)\r\n    return response\r\n  },\r\n\r\n  async uploadAvatar(file) {\r\n    const formData = new FormData()\r\n    formData.append('avatar', file)\r\n    \r\n    const response = await api.post('/users/avatar', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    })\r\n    return response\r\n  },\r\n\r\n  async removeAvatar() {\r\n    const response = await api.delete('/users/avatar')\r\n    return response\r\n  }\r\n}","import { useState, useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useQuery } from 'react-query'\r\nimport { userService } from '../services/userService'\r\nimport { postService } from '../services/postService'\r\nimport { useAuth } from '../context/AuthContext'\r\nimport { useSocket } from '../context/SocketContext'\r\nimport PostCard from '../components/posts/PostCard'\r\nimport LoadingSpinner from '../components/ui/LoadingSpinner'\r\nimport { Settings, UserPlus, UserMinus, MessageCircle } from 'lucide-react'\r\nimport toast from 'react-hot-toast'\r\n\r\nconst Profile = () => {\r\n  const { username } = useParams()\r\n  const { user: currentUser } = useAuth()\r\n  const { emitFollowUser } = useSocket()\r\n  const [activeTab, setActiveTab] = useState('posts')\r\n  const [isFollowing, setIsFollowing] = useState(false)\r\n\r\n  // If no username provided, show current user's profile\r\n  const profileUsername = username || currentUser?.username\r\n\r\n  const { \r\n    data: profileUser, \r\n    isLoading: userLoading \r\n  } = useQuery(\r\n    ['user', profileUsername], \r\n    () => userService.getUserByUsername(profileUsername),\r\n    {\r\n      enabled: !!profileUsername\r\n    }\r\n  )\r\n\r\n  const { \r\n    data: userPosts, \r\n    isLoading: postsLoading,\r\n    refetch: refetchPosts \r\n  } = useQuery(\r\n    ['user-posts', profileUser?._id], \r\n    () => postService.getUserPosts(profileUser._id),\r\n    {\r\n      enabled: !!profileUser?._id\r\n    }\r\n  )\r\n\r\n  const isOwnProfile = currentUser?._id === profileUser?._id\r\n\r\n  useEffect(() => {\r\n    if (profileUser && currentUser) {\r\n      setIsFollowing(profileUser.followers?.includes(currentUser._id))\r\n    }\r\n  }, [profileUser, currentUser])\r\n\r\n  const handleFollowToggle = async () => {\r\n    try {\r\n      if (isFollowing) {\r\n        await userService.unfollowUser(profileUser._id)\r\n        setIsFollowing(false)\r\n        toast.success(`Unfollowed ${profileUser.name}`)\r\n      } else {\r\n        await userService.followUser(profileUser._id)\r\n        setIsFollowing(true)\r\n        emitFollowUser(profileUser._id)\r\n        toast.success(`Following ${profileUser.name}`)\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to update follow status')\r\n    }\r\n  }\r\n\r\n  if (userLoading) {\r\n    return <LoadingSpinner className=\"mt-8\" />\r\n  }\r\n\r\n  if (!profileUser) {\r\n    return (\r\n      <div className=\"text-center mt-8\">\r\n        <h2 className=\"text-xl font-semibold text-gray-900\">User not found</h2>\r\n        <p className=\"text-gray-600 mt-2\">The user you're looking for doesn't exist.</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      {/* Profile Header */}\r\n      <div className=\"card mb-6\">\r\n        <div className=\"flex flex-col md:flex-row items-start md:items-center space-y-4 md:space-y-0 md:space-x-6\">\r\n          {/* Avatar */}\r\n          <img\r\n            src={profileUser.avatar || `https://ui-avatars.com/api/?name=${profileUser.name}&background=3b82f6&color=fff&size=128`}\r\n            alt={profileUser.name}\r\n            className=\"h-24 w-24 md:h-32 md:w-32 rounded-full mx-auto md:mx-0\"\r\n          />\r\n\r\n          {/* Profile Info */}\r\n          <div className=\"flex-1 text-center md:text-left\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">{profileUser.name}</h1>\r\n            <p className=\"text-gray-600 mb-2\">@{profileUser.username}</p>\r\n            \r\n            {profileUser.bio && (\r\n              <p className=\"text-gray-700 mb-4\">{profileUser.bio}</p>\r\n            )}\r\n\r\n            {/* Stats */}\r\n            <div className=\"flex justify-center md:justify-start space-x-6 text-sm text-gray-600\">\r\n              <div>\r\n                <span className=\"font-semibold text-gray-900\">{userPosts?.posts?.length || 0}</span>\r\n                <span className=\"ml-1\">Posts</span>\r\n              </div>\r\n              <div>\r\n                <span className=\"font-semibold text-gray-900\">{profileUser.followersCount || 0}</span>\r\n                <span className=\"ml-1\">Followers</span>\r\n              </div>\r\n              <div>\r\n                <span className=\"font-semibold text-gray-900\">{profileUser.followingCount || 0}</span>\r\n                <span className=\"ml-1\">Following</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex space-x-3\">\r\n            {isOwnProfile ? (\r\n              <button className=\"btn-secondary\">\r\n                <Settings className=\"h-4 w-4 mr-2\" />\r\n                Edit Profile\r\n              </button>\r\n            ) : (\r\n              <>\r\n                <button\r\n                  onClick={handleFollowToggle}\r\n                  className={isFollowing ? 'btn-secondary' : 'btn-primary'}\r\n                >\r\n                  {isFollowing ? (\r\n                    <>\r\n                      <UserMinus className=\"h-4 w-4 mr-2\" />\r\n                      Unfollow\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <UserPlus className=\"h-4 w-4 mr-2\" />\r\n                      Follow\r\n                    </>\r\n                  )}\r\n                </button>\r\n                <button className=\"btn-secondary\">\r\n                  <MessageCircle className=\"h-4 w-4 mr-2\" />\r\n                  Message\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Profile Tabs */}\r\n      <div className=\"border-b border-gray-200 mb-6\">\r\n        <nav className=\"flex space-x-8\">\r\n          {['posts', 'media', 'likes'].map((tab) => (\r\n            <button\r\n              key={tab}\r\n              onClick={() => setActiveTab(tab)}\r\n              className={`py-2 px-1 border-b-2 font-medium text-sm capitalize ${\r\n                activeTab === tab\r\n                  ? 'border-primary-500 text-primary-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              {tab}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Profile Content */}\r\n      <div>\r\n        {activeTab === 'posts' && (\r\n          <div className=\"space-y-6\">\r\n            {postsLoading ? (\r\n              <LoadingSpinner />\r\n            ) : userPosts?.posts?.length === 0 ? (\r\n              <div className=\"text-center py-12\">\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No posts yet</h3>\r\n                <p className=\"text-gray-600\">\r\n                  {isOwnProfile \r\n                    ? \"Share your first post to get started!\" \r\n                    : `${profileUser.name} hasn't posted anything yet.`\r\n                  }\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              userPosts?.posts?.map((post) => (\r\n                <PostCard \r\n                  key={post._id} \r\n                  post={post} \r\n                  onUpdate={refetchPosts}\r\n                />\r\n              ))\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'media' && (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-gray-600\">Media posts will be displayed here.</p>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'likes' && (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-gray-600\">Liked posts will be displayed here.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile","const Post = () => {\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto\">\r\n      <div className=\"text-center py-12\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Post Details</h1>\r\n        <p className=\"text-gray-600\">Individual post view will be implemented here.</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post","const Explore = () => {\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <div className=\"text-center py-12\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Explore</h1>\r\n        <p className=\"text-gray-600\">Discover new content and connect with others.</p>\r\n        <p className=\"text-sm text-gray-500 mt-4\">This page will be implemented with trending posts, hashtags, and user suggestions.</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Explore","const Messages = () => {\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <div className=\"text-center py-12\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Messages</h1>\r\n        <p className=\"text-gray-600\">Your conversations will appear here.</p>\r\n        <p className=\"text-sm text-gray-500 mt-4\">Real-time messaging with Socket.io will be implemented here.</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Messages","import { useSocket } from '../context/SocketContext'\r\nimport { formatDistanceToNow } from 'date-fns'\r\nimport { Bell, Heart, MessageCircle, UserPlus } from 'lucide-react'\r\n\r\nconst Notifications = () => {\r\n  const { notifications, markNotificationsAsRead } = useSocket()\r\n\r\n  const getNotificationIcon = (type) => {\r\n    switch (type) {\r\n      case 'like':\r\n        return <Heart className=\"h-5 w-5 text-red-500\" />\r\n      case 'comment':\r\n        return <MessageCircle className=\"h-5 w-5 text-blue-500\" />\r\n      case 'follow':\r\n        return <UserPlus className=\"h-5 w-5 text-green-500\" />\r\n      default:\r\n        return <Bell className=\"h-5 w-5 text-gray-500\" />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Notifications</h1>\r\n        {notifications.some(n => !n.read) && (\r\n          <button\r\n            onClick={markNotificationsAsRead}\r\n            className=\"text-sm text-primary-600 hover:text-primary-700\"\r\n          >\r\n            Mark all as read\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        {notifications.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <Bell className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No notifications yet</h3>\r\n            <p className=\"text-gray-600\">When you get notifications, they'll show up here.</p>\r\n          </div>\r\n        ) : (\r\n          notifications.map((notification, index) => (\r\n            <div\r\n              key={index}\r\n              className={`card flex items-start space-x-3 ${\r\n                !notification.read ? 'bg-blue-50 border-blue-200' : ''\r\n              }`}\r\n            >\r\n              <div className=\"flex-shrink-0\">\r\n                {getNotificationIcon(notification.type)}\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <p className=\"text-gray-900\">{notification.message}</p>\r\n                <p className=\"text-sm text-gray-500 mt-1\">\r\n                  {formatDistanceToNow(new Date(notification.createdAt), { addSuffix: true })}\r\n                </p>\r\n              </div>\r\n              {!notification.read && (\r\n                <div className=\"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2\"></div>\r\n              )}\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notifications","const Stream = () => {\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <div className=\"text-center py-12\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Live Stream</h1>\r\n        <p className=\"text-gray-600\">Start or join live streaming sessions.</p>\r\n        <p className=\"text-sm text-gray-500 mt-4\">WebRTC integration for live streaming will be implemented here.</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Stream","import { Link } from 'react-router-dom'\r\nimport { Home } from 'lucide-react'\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\r\n      <div className=\"text-center\">\r\n        <div className=\"text-6xl font-bold text-primary-500 mb-4\">404</div>\r\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Page Not Found</h1>\r\n        <p className=\"text-gray-600 mb-8\">\r\n          The page you're looking for doesn't exist.\r\n        </p>\r\n        <Link \r\n          to=\"/\" \r\n          className=\"btn-primary inline-flex items-center\"\r\n        >\r\n          <Home className=\"h-4 w-4 mr-2\" />\r\n          Go Home\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotFound","import { Routes, Route, Navigate } from 'react-router-dom'\r\nimport { useAuth } from './context/AuthContext'\r\nimport Layout from './components/layout/Layout'\r\nimport ProtectedRoute from './components/auth/ProtectedRoute'\r\nimport LoadingSpinner from './components/ui/LoadingSpinner'\r\n\r\n// Pages\r\nimport Home from './pages/Home'\r\nimport Login from './pages/Login'\r\nimport Register from './pages/Register'\r\nimport Profile from './pages/Profile'\r\nimport Post from './pages/Post'\r\nimport Explore from './pages/Explore'\r\nimport Messages from './pages/Messages'\r\nimport Notifications from './pages/Notifications'\r\nimport Stream from './pages/Stream'\r\nimport NotFound from './pages/NotFound'\r\n\r\nfunction App() {\r\n  const { user, loading } = useAuth()\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <Routes>\r\n        {/* Public routes */}\r\n        <Route \r\n          path=\"/login\" \r\n          element={user ? <Navigate to=\"/\" /> : <Login />} \r\n        />\r\n        <Route \r\n          path=\"/register\" \r\n          element={user ? <Navigate to=\"/\" /> : <Register />} \r\n        />\r\n\r\n        {/* Protected routes with layout */}\r\n        <Route path=\"/\" element={<ProtectedRoute><Layout /></ProtectedRoute>}>\r\n          <Route index element={<Home />} />\r\n          <Route path=\"explore\" element={<Explore />} />\r\n          <Route path=\"messages\" element={<Messages />} />\r\n          <Route path=\"notifications\" element={<Notifications />} />\r\n          <Route path=\"stream\" element={<Stream />} />\r\n          <Route path=\"profile/:username?\" element={<Profile />} />\r\n          <Route path=\"post/:postId\" element={<Post />} />\r\n        </Route>\r\n\r\n        {/* 404 page */}\r\n        <Route path=\"*\" element={<NotFound />} />\r\n      </Routes>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { QueryClient, QueryClientProvider } from 'react-query'\r\nimport { Toaster } from 'react-hot-toast'\r\nimport App from './App.jsx'\r\nimport './index.css'\r\nimport { AuthProvider } from './context/AuthContext.jsx'\r\nimport { SocketProvider } from './context/SocketContext.jsx'\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n    },\r\n  },\r\n})\r\n\r\nReactDOM.createRoot(document.getElementById('root')).render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <BrowserRouter>\r\n        <AuthProvider>\r\n          <SocketProvider>\r\n            <App />\r\n            <Toaster \r\n              position=\"top-right\"\r\n              toastOptions={{\r\n                duration: 4000,\r\n                style: {\r\n                  background: '#363636',\r\n                  color: '#fff',\r\n                },\r\n              }}\r\n            />\r\n          </SocketProvider>\r\n        </AuthProvider>\r\n      </BrowserRouter>\r\n    </QueryClientProvider>\r\n  </React.StrictMode>,\r\n)"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","_setPrototypeOf","t","_inheritsLoose","o","setPrototypeOf","Subscribable","_proto","listener","_this","callback","x","_extends","isServer","noop","functionalUpdate","updater","input","isValidTimeout","value","ensureQueryKeyArray","timeUntilStale","updatedAt","staleTime","parseQueryArgs","arg1","arg2","arg3","isQueryKey","parseFilterArgs","mapQueryStatusFilter","active","inactive","isActive","matchQuery","filters","query","exact","fetching","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","queryStatusFilter","matchMutation","mutation","mutationKey","hashQueryKey","options","hashFn","asArray","stableValueHash","_","val","isPlainObject","result","key","partialDeepEqual","replaceEqualDeep","array","aSize","bItems","bSize","copy","equalItems","i","shallowEqualObjects","hasObjectPrototype","ctor","prot","sleep","timeout","resolve","scheduleMicrotask","error","getAbortController","FocusManager","_Subscribable","onFocus","_window","_this$cleanup","setup","_this$cleanup2","_this2","focused","focusManager","OnlineManager","onOnline","online","onlineManager","defaultRetryDelay","failureCount","isCancelable","CancelledError","isCancelledError","Retryer","config","cancelRetry","cancelFn","continueFn","promiseResolve","promiseReject","cancelOptions","outerResolve","outerReject","reject","pause","continueResolve","run","promiseOrValue","_config$retry","_config$retryDelay","retry","retryDelay","delay","shouldRetry","NotifyManager","_len","args","_key","_this3","queue","fn","notifyManager","logger","getLogger","setLogger","newLogger","Query","_this$options$cacheTi","_this$options$isDataE","_this$options","prevData","data","state","setStateOptions","_this$retryer","promise","observer","_this$retryer2","_this$retryer3","fetchOptions","_this$options$behavio","_context$fetchOptions","_abortController$abor","_this$retryer4","abortController","queryFnContext","fetchFn","context","_this$options$behavio2","_context$fetchOptions2","action","hasInitialData","initialDataUpdatedAt","hasData","_action$meta","_action$dataUpdatedAt","QueryCache","_options$queryHash","queryHash","queryInMap","_parseFilterArgs","_parseFilterArgs2","event","_this4","_this5","Mutation","getDefaultState","restored","_this$options$retry","reducer","MutationCache","pausedMutations","infiniteQueryBehavior","_context$fetchOptions3","_context$fetchOptions4","_context$state$data","_context$state$data2","refetchPage","fetchMore","pageParam","isFetchingNextPage","isFetchingPreviousPage","oldPages","oldPageParams","abortSignal","newPageParams","cancelled","queryFn","buildNewPages","pages","param","page","previous","fetchPage","manual","queryFnResult","promiseAsAny","getNextPageParam","_manual","_param","getPreviousPageParam","shouldFetchFirstPage","_loop","shouldFetchNextPage","_param2","finalPromise","finalPromiseAsAny","QueryClient","_this$unsubscribeFocu","_this$unsubscribeOnli","_this$queryCache$find","queryKeyOrFilters","_ref","parsedOptions","defaultedOptions","_ref2","_this$queryCache$find2","queryCache","_parseFilterArgs3","refetchFilters","_parseFilterArgs4","_parseFilterArgs4$","promises","_ref3","_filters$refetchActiv","_filters$refetchInact","_parseFilterArgs5","_this6","_parseFilterArgs6","_this7","_this$queryDefaults$f","_this$mutationDefault","QueryObserver","shouldFetchOnMount","shouldFetchOn","notifyOptions","prevOptions","prevQuery","mounted","shouldFetchOptionally","nextRefetchInterval","trackedResult","trackProp","unsubscribe","time","_this$options$refetch","nextInterval","prevResult","prevResultState","prevResultOptions","queryChange","queryInitialState","prevQueryResult","dataUpdatedAt","errorUpdatedAt","isFetching","status","isPreviousData","isPlaceholderData","fetchOnMount","fetchOptionally","selectError","placeholderData","isStale","notifyOnChangeProps","notifyOnChangePropsExclusions","includedProps","typedKey","changed","isIncluded","isExcluded","defaultNotifyOptions","_this8","shouldLoadOnMount","field","unstable_batchedUpdates","ReactDOM","defaultContext","React","QueryClientSharingContext","getQueryClientContext","contextSharing","useQueryClient","queryClient","QueryClientProvider","_ref$contextSharing","children","Context","createValue","_isReset","QueryErrorResetBoundaryContext","useQueryErrorResetBoundary","shouldThrowError","suspense","_useErrorBoundary","params","useBaseQuery","Observer","mountedRef","_React$useState","forceUpdate","errorResetBoundary","_React$useState2","useQuery","r","s","u","j","W","F","A","Y","U","P","y","D","Q","H","J","K","X","Z","ee","O","$","L","v","S","E","oe","I","re","se","te","ne","ie","V","ae","pe","N","de","ce","ue","w","le","fe","me","Te","M","g.createElement","ye","ge","he","xe","be","B","Se","Ae","z","C","l.memo","l.createElement","l.Fragment","Re","T.createElement","ve","T.useCallback","Ee","De","Pe","R","Oe","Vt","API_URL","api","axios","token","response","message","_b","_a","_c","toast","_d","_e","_f","authService","credentials","userData","profileData","passwordData","email","password","AuthContext","createContext","useAuth","useContext","AuthProvider","user","setUser","useState","loading","setLoading","useEffect","newUser","updatedUser","jsx","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","withNativeArrayBuffer","isView","obj","encodePacket","type","supportsBinary","encodeBlobAsBase64","fileReader","content","toArray","TEXT_ENCODER","encodePacketToBinary","packet","encoded","chars","lookup","decode","base64","bufferLength","len","encoded1","encoded2","encoded3","encoded4","arraybuffer","bytes","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","decoded","SEPARATOR","encodePayload","packets","length","encodedPackets","count","decodePayload","encodedPayload","decodedPacket","createPacketEncoderStream","controller","payloadLength","header","view","TEXT_DECODER","totalLength","chunks","acc","chunk","concatChunks","size","buffer","createPacketDecoderStream","maxPayload","expectedLength","isBinary","headerArray","protocol","Emitter","mixin","on","callbacks","cb","nextTick","setTimeoutFn","globalThisShim","defaultBinaryType","pick","attr","NATIVE_SET_TIMEOUT","globalThis","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","opts","BASE64_OVERHEAD","byteLength","utf8Length","str","randomString","encode","qs","qry","pairs","pair","TransportError","reason","description","Transport","details","onPause","schema","hostname","encodedQuery","Polling","total","close","hasCORS","empty","BaseXHR","isSSL","port","req","xhrStatus","Request","createRequest","uri","xhr","err","fromError","unloadHandler","terminationEvent","hasXHR2","newRequest","XHR","forceBase64","xdomain","isReactNative","BaseWS","protocols","closeEvent","ev","lastPacket","WebSocketCtor","WS","_packet","WT","stream","decoderStream","reader","encoderStream","read","done","transports","parts","parse","src","pathNames","path","regx","names","$0","$1","$2","withEventListeners","OFFLINE_EVENT_LISTENERS","SocketWithoutUpgrade","parsedUri","transportName","name","transport","payloadSize","hasExpired","msg","cleanupAndClose","waitForUpgrade","SocketWithUpgrade","failed","onTransportOpen","cleanup","freezeTransport","onerror","onTransportClose","onclose","onupgrade","to","upgrades","filteredUpgrades","DEFAULT_TRANSPORTS","url","loc","host","toString","withNativeFile","hasBinary","toJSON","deconstructPacket","buffers","packetData","pack","_deconstructPacket","placeholder","newData","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","Encoder","replacer","deconstruction","isObject","Decoder","reviver","isBinaryEvent","BinaryReconstructor","start","buf","next","payload","binData","Socket","io","nsp","id","ack","isTransportWritable","isConnected","timer","responseArgs","force","listeners","self","sent","pid","subDestroy","compress","Backoff","ms","rand","deviation","min","max","jitter","Manager","_parser","parser","Engine","socket","openSubDestroy","onError","errorSub","nsps","attempt","cache","parsed","source","sameNamespace","newConnection","SocketContext","useSocket","SocketProvider","setSocket","onlineUsers","setOnlineUsers","notifications","setNotifications","socketInstance","users","notification","prev","getNotificationIcon","postId","postAuthorId","comment","followedUserId","receiverId","notif","Sidebar","location","useLocation","logout","unreadNotifications","navItems","Home","Search","MessageCircle","Bell","Video","User","handleLogout","jsxs","Link","item","Settings","LogOut","BottomNav","MobileHeader","Layout","isMobile","setIsMobile","checkDevice","Outlet","LoadingSpinner","className","sizeClasses","ProtectedRoute","Navigate","postService","limit","postData","commentData","commentId","userId","CreatePost","onClose","onPostCreated","setContent","handleSubmit","Image","PostCard","post","onUpdate","emitLikePost","emitCommentPost","isLiked","setIsLiked","likesCount","setLikesCount","showComments","setShowComments","setComment","handleLike","handleComment","formatDistanceToNow","MoreHorizontal","Heart","Share","showCreatePost","setShowCreatePost","setPage","posts","isLoading","refetch","handlePostCreated","PlusCircle","Login","formData","setFormData","showPassword","setShowPassword","login","handleChange","EyeOff","Eye","Register","showConfirmPassword","setShowConfirmPassword","register","userService","username","file","Profile","useParams","currentUser","emitFollowUser","activeTab","setActiveTab","isFollowing","setIsFollowing","profileUsername","profileUser","userLoading","userPosts","postsLoading","refetchPosts","isOwnProfile","handleFollowToggle","Fragment","UserMinus","UserPlus","tab","Post","Explore","Messages","Notifications","markNotificationsAsRead","index","Stream","NotFound","App","Routes","Route","BrowserRouter","Toaster"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60]}